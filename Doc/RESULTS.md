# Experiment Results

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÅ‡∏•‡∏∞ metrics ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£ train model

## üìë Table of Contents

**Quick Links:**

- [üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ Metrics](#‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢-metrics)
- [üìù Run #1 - Baseline (2025-12-07)](#run-1---2025-12-07-baseline-class-weights-only)
- [üìù Run #2 - Separate Preprocessing (2025-12-12)](#run-2---2025-12-12-separate-preprocessing-lr-vs-xgboost)
- [üìù Run #3 - SMOTE Resampling (2025-12-14)](#run-3---2025-12-14-smote-resampling)
- [üìù Run #4 - ADASYN Resampling (2025-12-15)](#run-4---2025-12-15-adasyn-resampling)
- [üìù Run #5 - SMOTETomek Resampling (2025-12-15)](#run-5---2025-12-15-smotetomek-resampling)
- [üìù Run #6 - Cost-Sensitive Learning (2026-01-11)](#run-6---2026-01-11-cost-sensitive-learning) ‚≠ê **Latest**
- [üìà ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö](#‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö)
- [üî¨ Planned Experiments](#planned-experiments-imbalanced-data-handling-techniques)
- [üí° ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á](#‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á)

---

## ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ Metrics

| Metric        | ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ | ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•                                   | ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à                                                 |
| ------------- | -------- | ---------------------------------------- | ---------------------------------------------------------------- |
| **Recall**    | > 0.70   | ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î - ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î | ‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞ Churn ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 70% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏ß‡πâ |
| **Precision** | > 0.60   | ‡∏•‡∏î False Positive                        | ‡∏•‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î‡∏Ñ‡∏ô (‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Churn ‡∏à‡∏£‡∏¥‡∏á)              |
| **F1 Score**  | > 0.65   | ‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall          | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥                   |
| **ROC-AUC**   | > 0.80   | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å class ‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°               | Model ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn/Not Churn ‡πÑ‡∏î‡πâ‡∏î‡∏µ                |

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏ß‡πà‡∏≤:

- **Recall ‡∏™‡∏π‡∏á** = ‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞ Churn ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å ‚Üí ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ
- **Precision ‡∏û‡∏≠‡πÉ‡∏ä‡πâ** = ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö False Positive ‡∏ö‡πâ‡∏≤‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- **ROC-AUC > 0.80** = ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö model ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

---

## üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á

### Run #1 - 2025-12-07 (Baseline: Class Weights Only)

#### Configuration

- **Logistic Regression:**

  - `class_weight: 'balanced'` - ‡∏õ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÉ‡∏´‡πâ class ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢ (Churn) ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö class ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å
  - `max_iter: 1000` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≠‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ train (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ model converge)
  - `solver: 'lbfgs'` - algorithm ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ optimize (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö dataset ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡∏≤‡∏á)

- **XGBoost:**

  - `n_estimators: 100` - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô decision trees ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á
  - `max_depth: 6` - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ tree (‡∏¢‡∏¥‡πà‡∏á‡∏•‡∏∂‡∏Å = ‡∏¢‡∏¥‡πà‡∏á‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô)
  - `learning_rate: 0.1` - ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ (‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥ = ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡πâ‡∏≤‡πÅ‡∏ï‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏ß‡πà‡∏≤)
  - `scale_pos_weight: 3.9088` - ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö class ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Churn (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å ratio ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)

- **Cross-Validation:** 5-Fold (‡πÅ‡∏ö‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô 5 ‡∏™‡πà‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏° stable ‡∏Ç‡∏≠‡∏á model)
- **Threshold:** 0.5 (default) - ‡∏ñ‡πâ‡∏≤ probability >= 0.5 ‡∏à‡∏∞‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Churn

#### Imbalance Handling Strategy

**‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:** Class Weights

- Logistic Regression: `class_weight='balanced'`
- XGBoost: `scale_pos_weight=3.9088`

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ SMOTE:**

- ‚ùå SMOTE ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (synthetic data) ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ Class weights ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏Ñ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ train
- ‚úÖ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà model ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å pattern ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á

#### Results (Test Set)

| Model                   | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ----------------------- | ---------- | ---------- | ---------- | ---------- | ---------- |
| **Logistic Regression** | **0.7147** | **0.3887** | **0.6961** | **0.4988** | **0.7621** |
| XGBoost                 | 0.6887     | 0.3501     | 0.6144     | 0.4460     | 0.7279     |

#### Cross-Validation Results

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏´‡∏•‡∏±‡∏Å = ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏≤‡∏Å 5 folds
- `(+/- X)` = Standard Deviation (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£)
  - **‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥** (< 0.02) = Model ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° **stable** ‡∏™‡∏π‡∏á ‡πÑ‡∏°‡πà sensitive ‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  - **‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á** (> 0.05) = Model ‡∏≠‡∏≤‡∏à **overfit** ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà stable

**Logistic Regression:**

- Accuracy: 0.7110 (+/- 0.0110) ‚úÖ Stable
- Precision: 0.3813 (+/- 0.0095) ‚úÖ Stable
- Recall: 0.6690 (+/- 0.0234) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
- F1: 0.4854 (+/- 0.0059) ‚úÖ Stable
- ROC-AUC: 0.7626 (+/- 0.0046) ‚úÖ Very Stable

**XGBoost:**

- Accuracy: 0.7129 (+/- 0.0093) ‚úÖ Stable
- Precision: 0.3788 (+/- 0.0104) ‚úÖ Stable
- Recall: 0.6381 (+/- 0.0097) ‚úÖ Stable
- F1: 0.4753 (+/- 0.0096) ‚úÖ Stable
- ROC-AUC: 0.7422 (+/- 0.0091) ‚úÖ Stable

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏ó‡∏±‡πâ‡∏á 2 models ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° stable ‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ overfitting

#### Observations & Insights

**üèÜ Logistic Regression ‡∏ä‡∏ô‡∏∞:**

- ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ XGBoost ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å metrics
- ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ relationship ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á features ‡∏Å‡∏±‡∏ö target ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô linear ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏¥‡∏î

**‚úÖ ‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á:**

1. **Recall ‡∏™‡∏π‡∏á (0.70)** - ‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Churn ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ 70% ‚úÖ ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß!
2. **Cross-Validation stable** - Standard deviation ‡∏ï‡πà‡∏≥ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ model ‡πÑ‡∏°‡πà unstable
3. **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ SMOTE ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏î‡∏µ** - Class weights ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö imbalance ratio 4:1

**‚ö†Ô∏è ‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô:**

1. **Precision ‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å (0.39)** - ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn ‡πÅ‡∏•‡πâ‡∏ß‡∏ñ‡∏π‡∏Å‡πÅ‡∏Ñ‡πà 39%
   - False Positive ‡∏™‡∏π‡∏á (~294 ‡∏Ñ‡∏ô)
   - ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏≤‡∏à‡πÄ‡∏™‡∏µ‡∏¢‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Churn ‡∏à‡∏£‡∏¥‡∏á
2. **ROC-AUC ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (0.76 vs 0.80)**
   - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å class ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏û‡∏≠
3. **XGBoost ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î**
   - ‡∏õ‡∏Å‡∏ï‡∏¥ XGBoost ‡∏Ñ‡∏ß‡∏£‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ Linear model
   - ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á hyperparameter tuning

**üîç ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà Precision ‡∏ï‡πà‡∏≥:**

- Model ‡∏°‡∏µ bias ‡πÑ‡∏õ‡∏ó‡∏≤‡∏á Recall (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ class weights)
- Trade-off: Recall ‡∏™‡∏π‡∏á ‚Üí Precision ‡∏ï‡πà‡∏≥
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Precision ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‚Üí ‡∏ï‡πâ‡∏≠‡∏á threshold tuning

#### Next Steps & Recommendations

**‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **Threshold Tuning** ‚≠ê (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô - ‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏ú‡∏•‡πÄ‡∏£‡πá‡∏ß)

   **‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£:**

   - ‡∏•‡∏î threshold ‡∏à‡∏≤‡∏Å 0.5 ‚Üí 0.3-0.4 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Recall
   - ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° threshold ‚Üí 0.6-0.7 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Precision
   - ‡∏´‡∏≤ optimal threshold ‡∏ó‡∏µ‡πà balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall

   **‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

   - Threshold = 0.4 ‚Üí Recall ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô ~75%, Precision ‡∏•‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~35%
   - Threshold = 0.6 ‚Üí Precision ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô ~50%, Recall ‡∏•‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~55%

   **‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** Precision ‡∏ï‡πà‡∏≥ (0.39) ‡πÅ‡∏•‡∏∞ Recall ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤ (0.70)

2. **XGBoost Hyperparameter Tuning** (‡∏≠‡∏≤‡∏à‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á ROC-AUC ‡πÑ‡∏î‡πâ)

   **‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**

   - `n_estimators = 200-300` (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 100)
   - `max_depth = 3-5` (‡∏•‡∏î‡∏à‡∏≤‡∏Å 6 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô overfitting)
   - `learning_rate = 0.05` (‡∏•‡∏î‡∏à‡∏≤‡∏Å 0.1 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏∂‡πâ‡∏ô)
   - `min_child_weight = 3-5` (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î overfitting)

   **‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

   - ROC-AUC ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 0.728 ‚Üí 0.75-0.78
   - Recall ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 0.614 ‚Üí 0.65-0.70

   **‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** XGBoost ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ LR (‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏±‡πâ‡∏ô)

3. **Feature Engineering** (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°)

   **‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢:**

   - ‡∏™‡∏£‡πâ‡∏≤‡∏á interaction features: `Age √ó IsActiveMember`, `Balance √ó NumOfProducts`
   - ‡∏•‡∏≠‡∏á binning ‡πÅ‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô (equal-width, custom bins)
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á features ‡πÉ‡∏´‡∏°‡πà: `Tenure_per_Product`, `Balance_per_Age`

   **‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

   - ROC-AUC ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏° 0.02-0.05
   - Model ‡∏à‡∏±‡∏ö pattern ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô

   **‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ROC-AUC ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤ (0.76 vs 0.80)

4. **Ensemble Methods** (advanced - ‡∏ó‡∏≥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏±‡∏ö individual models ‡πÅ‡∏•‡πâ‡∏ß)

   **‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£:**

   - Voting Classifier: ‡∏£‡∏ß‡∏° predictions ‡∏à‡∏≤‡∏Å LR + XGBoost
   - Stacking: ‡πÉ‡∏ä‡πâ LR ‡πÅ‡∏•‡∏∞ XGBoost ‡πÄ‡∏õ‡πá‡∏ô base, ‡∏™‡∏£‡πâ‡∏≤‡∏á meta-model

   **‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

   - ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏° metrics ‡πÑ‡∏î‡πâ 1-3%
   - ‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á 2 models

   **‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ push metrics ‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

#### Visualizations & Analysis

**üìÅ Location:** `plots/run_1/`

##### 1. Confusion Matrices

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô Confusion Matrix:**

```
                Predicted
                0       1
Actual  0    [TN]    [FP]  ‚Üê ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ú‡∏¥‡∏î‡∏ß‡πà‡∏≤ Churn (‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á)
        1    [FN]    [TP]  ‚Üê ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏ß‡πà‡∏≤ Churn (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á)
```

**‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå:**

- **TN (True Negative)** = ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ "‡πÑ‡∏°‡πà Churn" ‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å ‚úÖ
- **FP (False Positive)** = ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ "Churn" ‡πÅ‡∏ï‡πà‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÑ‡∏°‡πà Churn ‚ùå (‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î‡∏Ñ‡∏ô)
- **FN (False Negative)** = ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ "‡πÑ‡∏°‡πà Churn" ‡πÅ‡∏ï‡πà‡∏à‡∏£‡∏¥‡∏á‡πÜ Churn ‚ùå‚ùå (‡∏û‡∏•‡∏≤‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏´‡∏≤‡∏¢ - **‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î**)
- **TP (True Positive)** = ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ "Churn" ‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å ‚úÖ‚úÖ (‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô - **‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á**)

---

**Logistic Regression** (`confusion_matrix_lr.png`)

<img src="../plots/run_1/confusion_matrix_lr.png" alt="Confusion Matrix - Logistic Regression" width="600">

**Insights:**

- ‚úÖ **TP = 213** ‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ 213/306 = 69.6% (Recall)
- ‚ö†Ô∏è **FP = 294** ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ú‡∏¥‡∏î‡∏ß‡πà‡∏≤ Churn 294 ‡∏Ñ‡∏ô (False Positive ‡∏™‡∏π‡∏á)
- ‚ùå **FN = 93** ‡∏û‡∏•‡∏≤‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Churn ‡∏à‡∏£‡∏¥‡∏á 93 ‡∏Ñ‡∏ô (30.4%)
- üí° ‡∏ñ‡πâ‡∏≤‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn ‚Üí ‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏¥‡∏î 294/507 = 58%

**XGBoost** (`confusion_matrix_xgb.png`)

<img src="../plots/run_1/confusion_matrix_xgb.png" alt="Confusion Matrix - XGBoost" width="600">

- Recall ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ LR (61% vs 70%)
- False Positive ‡∏¢‡∏±‡∏á‡∏™‡∏π‡∏á‡∏≠‡∏¢‡∏π‡πà
- ‡∏û‡∏•‡∏≤‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ LR

---

##### 2. ROC Curves (`roc_curves.png`)

<img src="../plots/run_1/roc_curves.png" alt="ROC Curves Comparison" width="600">

**ROC Curve ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- **‡πÅ‡∏Å‡∏ô X** = False Positive Rate (‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ú‡∏¥‡∏î‡∏ß‡πà‡∏≤ Churn / ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Churn ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
- **‡πÅ‡∏Å‡∏ô Y** = True Positive Rate = Recall (‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ / ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Churn ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
- **‡πÄ‡∏™‡πâ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏á** = ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á TPR ‡πÅ‡∏•‡∏∞ FPR ‡∏ó‡∏µ‡πà threshold ‡∏ï‡πà‡∏≤‡∏á‡πÜ
- **‡∏¢‡∏¥‡πà‡∏á‡πÇ‡∏Ñ‡πâ‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô** = ‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏µ (Recall ‡∏™‡∏π‡∏á, FPR ‡∏ï‡πà‡∏≥)
- **AUC (Area Under Curve)** = ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÄ‡∏™‡πâ‡∏ô (0-1)
  - **AUC = 1.0** = Perfect Classifier (‡πÅ‡∏¢‡∏Å class ‡πÑ‡∏î‡πâ 100%)
  - **AUC = 0.5** = Random Classifier (‡∏ó‡∏≤‡∏¢‡∏™‡∏∏‡πà‡∏° - ‡πÄ‡∏™‡πâ‡∏ô‡∏õ‡∏£‡∏∞)
  - **AUC > 0.8** = Model ‡∏î‡∏µ‡∏°‡∏≤‡∏Å (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á)

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- Logistic Regression AUC = **0.762** (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô)
- XGBoost AUC = 0.728 (‡∏™‡∏µ‡∏™‡πâ‡∏°)
- Random Classifier = 0.5 (‡πÄ‡∏™‡πâ‡∏ô‡∏õ‡∏£‡∏∞)

**Insights:**

- LR ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ Random ‡∏°‡∏≤‡∏Å (0.762 vs 0.5) ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å Perfect (1.0)
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ AUC > 0.80 ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° ~0.04
- **‡∏ó‡∏≥‡πÑ‡∏° Random = 0.5?** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏™‡∏∏‡πà‡∏° 50-50 ‡∏à‡∏∞‡πÑ‡∏î‡πâ TPR = FPR ‡πÄ‡∏™‡∏°‡∏≠ (‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡πÅ‡∏¢‡∏á‡∏°‡∏∏‡∏°)

---

##### 3. Precision-Recall Curves (`precision_recall_curves.png`)

<img src="../plots/run_1/precision_recall_curves.png" alt="Precision-Recall Curves" width="600">

**PR Curve ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- **‡πÅ‡∏Å‡∏ô X** = Recall (‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà %)
- **‡πÅ‡∏Å‡∏ô Y** = Precision (‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏Å‡∏µ‡πà %)
- **‡∏¢‡∏¥‡πà‡∏á‡πÇ‡∏Ñ‡πâ‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô** = ‡∏¢‡∏¥‡πà‡∏á‡∏î‡∏µ (Recall ‡∏™‡∏π‡∏á + Precision ‡∏™‡∏π‡∏á)

**‡∏ó‡∏≥‡πÑ‡∏° PR Curve ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ ROC ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Imbalanced Data:**

- ROC Curve ‡∏≠‡∏≤‡∏à‡∏î‡∏π‡∏î‡∏µ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ TN (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Churn) ‡∏°‡∏µ‡πÄ‡∏¢‡∏≠‡∏∞
- PR Curve ‡∏°‡∏≠‡∏á‡∏ó‡∏µ‡πà TP ‡πÅ‡∏•‡∏∞ FP ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‚Üí ‡πÄ‡∏´‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤

**Insights:**

- ‡πÄ‡∏´‡πá‡∏ô **trade-off** ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô: Recall ‡∏™‡∏π‡∏á ‚Üí Precision ‡∏ï‡πà‡∏≥
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **Recall 80%** ‚Üí Precision ‡∏à‡∏∞‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~30%
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **Precision 60%** ‚Üí Recall ‡∏à‡∏∞‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~40%

**‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Threshold:**

1. **‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö Churn ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** (‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö False Positive)

   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å threshold = 0.3-0.4 ‚Üí Recall ~75-80%, Precision ~30-35%
   - ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö: ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏µ‡∏° retention ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà

2. **‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥** (‡∏•‡∏î False Positive)
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å threshold = 0.6-0.7 ‚Üí Recall ~40-50%, Precision ~50-60%
   - ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö: ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏à‡∏∞ Churn

---

##### 4. Feature Importance - Logistic Regression (`feature_importance_lr.png`)

<img src="../plots/run_1/feature_importance_lr.png" alt="Feature Importance - Logistic Regression" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = Coefficient Value (‡∏Ñ‡πà‡∏≤‡∏™‡∏±‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå)
- **‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß** = Positive coefficient ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏™‡∏µ‡πÅ‡∏î‡∏á** = Negative coefficient ‚Üí ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏¢‡∏¥‡πà‡∏á‡πÅ‡∏ó‡πà‡∏á‡∏¢‡∏≤‡∏ß** = ‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏°‡∏≤‡∏Å

**Top 15 Features ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢:**

**üî¥ Negative Coefficients (‡∏™‡∏µ‡πÅ‡∏î‡∏á) = ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn:**

1. **`cat__Age_bin_<20`** (-1.8) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 20 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å
2. **`cat__Age_bin_20-30`** (-0.8) - ‡∏≠‡∏≤‡∏¢‡∏∏ 20-30 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
3. **`cat__Age_bin_31-40`** (-0.4) - ‡∏≠‡∏≤‡∏¢‡∏∏ 31-40 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢ (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)
4. **`cat__Gender_Male`** (-0.3) - ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á
5. **`cat__Geography_France`** (-0.3) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
6. **`cat__Balance_bin_Low`** (-0.3) - ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πà‡∏≥ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢ (‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à!)
7. **`cat__Geography_Spain`** (-0.3) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡πÄ‡∏õ‡∏ô ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
8. **`cat__CreditScore_bin_EE`** (-0.2) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö EE ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢

**üü¢ Positive Coefficients (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß) = ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn:**

1. **`cat__Age_bin_51-60`** (+1.6) - ‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!
2. **`cat__Age_bin_41-50`** (+0.9) - ‡∏≠‡∏≤‡∏¢‡∏∏ 41-50 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á
3. **`cat__Age_bin_>60`** (+0.7) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 60 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á
4. **`cat__Geography_Germany`** (+0.5) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏≠‡∏∑‡πà‡∏ô
5. **`cat__Gender_Female`** (+0.3) - ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á ‚Üí Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)
6. **`cat__Balance_bin_Medium`** (+0.2) - ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‚Üí Churn ‡∏™‡∏π‡∏á (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)
7. **`cat__CreditScore_bin_GG`** (+0.1) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö GG ‚Üí Churn ‡∏™‡∏π‡∏á (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)

**üí° Insights ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** - ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
2. **Pattern ‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏¢‡∏∏:** ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢ (< 40) ‚Üí Churn ‡∏ï‡πà‡∏≥ | ‡∏≠‡∏≤‡∏¢‡∏∏ 40+ ‚Üí Churn ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ
3. **Geography:** ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô Churn ‡∏™‡∏π‡∏á | ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™/‡∏™‡πÄ‡∏õ‡∏ô Churn ‡∏ï‡πà‡∏≥
4. **Gender:** ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
5. **Balance:** ‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏ó‡∏µ‡πà Balance ‡∏ï‡πà‡∏≥‡∏Å‡∏•‡∏±‡∏ö Churn ‡∏ô‡πâ‡∏≠‡∏¢ (‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£)

---

##### 5. Feature Importance - XGBoost (`feature_importance_xgb.png`)

<img src="../plots/run_1/feature_importance_xgb.png" alt="Feature Importance - XGBoost" width="600">

**‚ö†Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü XGBoost Feature Importance:**

‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á **f0, f1, f2, ... f23** ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠ feature ‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ XGBoost ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç index ‡∏Ç‡∏≠‡∏á features

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:**

- **f0, f1, f2...** = Feature ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 0, 1, 2... ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ model
- **Importance Score** = ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà feature ‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô decision trees (weight)
- **‡∏¢‡∏¥‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á** = feature ‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ = ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å

**Top 15 Features (by Importance Score):**

1. **f3** (454.0) - Feature ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
2. **f19** (300.0)
3. **f23** (288.0)
4. **f20** (257.0)
5. **f21** (255.0)
6. **f0** (253.0)
7. **f22** (247.0)
8. **f24** (224.0)
9. **f2** (208.0)
10. **f15** (191.0)
11. **f17** (190.0)
12. **f1** (183.0)
13. **f14** (176.0)
14. **f11** (170.0)
15. **f18** (169.0)

**üí° ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ:**

- **‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠ feature ‡∏à‡∏£‡∏¥‡∏á** - ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏î‡∏π‡πÉ‡∏ô code ‡∏ß‡πà‡∏≤ f0, f1... ‡∏Ñ‡∏∑‡∏≠ feature ‡∏≠‡∏∞‡πÑ‡∏£
- **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏î‡∏π SHAP ‡πÅ‡∏ó‡∏ô** - SHAP ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠ feature ‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏ß‡πà‡∏≤

**üîç ‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πá‡∏ô f0, f1...?**

‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å preprocessing (One-Hot Encoding, Binning) features ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô array ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡πÅ‡∏•‡∏∞ XGBoost ‡∏à‡∏∞‡πÉ‡∏ä‡πâ index ‡πÅ‡∏ó‡∏ô‡∏ä‡∏∑‡πà‡∏≠ feature ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì

**‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

- ‡πÉ‡∏ä‡πâ **SHAP plots** ‡πÅ‡∏ó‡∏ô (‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á) - ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠ feature ‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤
- ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ code ‡πÉ‡∏´‡πâ map f0, f1... ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠ feature ‡∏à‡∏£‡∏¥‡∏á

---

##### 6. SHAP Summary Plot (`shap_summary.png`)

<img src="../plots/run_1/shap_summary.png" alt="SHAP Summary Plot" width="600">

**SHAP ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

**SHAP (SHapley Additive exPlanations)** = ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞ feature ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ prediction ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

**SHAP ‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å Feature Importance ‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£:**

- **Feature Importance** = ‡∏ö‡∏≠‡∏Å‡πÅ‡∏Ñ‡πà‡∏ß‡πà‡∏≤ feature ‡πÑ‡∏´‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)
- **SHAP** = ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤:
  - Feature ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ **‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤** ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ (individual level)
  - ‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á/‡∏ï‡πà‡∏≥‡∏Ç‡∏≠‡∏á feature ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÑ‡∏´‡∏ô (‡∏ö‡∏ß‡∏Å/‡∏•‡∏ö)
  - Features ‡∏°‡∏µ interaction ‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î** = 1 ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- **‡∏™‡∏µ** = ‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á feature (‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π/‡πÅ‡∏î‡∏á = High/1, ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô = Low/0)
- **‡πÅ‡∏Å‡∏ô X** = SHAP value
  - **‡∏ö‡∏ß‡∏Å** (+) = ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
  - **‡∏•‡∏ö** (-) = ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Y** = feature ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏™‡∏∏‡∏î

**Top 15 Features ‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏≤‡∏ü:**

1. **`cat__Age_bin_>60`**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (= 1, ‡∏°‡∏µ‡∏≠‡∏≤‡∏¢‡∏∏ > 60) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn**
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (= 0, ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn

2. **`cat__Balance_bin_Low`**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (= 1, Balance ‡∏ï‡πà‡∏≥) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢) ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (= 0, Balance ‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≥) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn

3. **`cat__Geography_France`**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (= 1, ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (= 0, ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn

4. **`cat__Balance_bin_High`**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (= 1, Balance ‡∏™‡∏π‡∏á) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (= 0, Balance ‡πÑ‡∏°‡πà‡∏™‡∏π‡∏á) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn

5. **`cat__CreditScore_bin_FF`** - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö FF

6. **`cat__Balance_bin_Medium`** - Balance ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á

7. **`cat__Age_bin_51-60`** - ‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ (‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏°‡∏≤‡∏Å)

8. **`cat__CreditScore_bin_EE`** - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö EE

9. **`cat__Age_bin_41-50`** - ‡∏≠‡∏≤‡∏¢‡∏∏ 41-50 ‡∏õ‡∏µ (‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)

10. **`cat__Tenure_bin_New/At-Risk`** - Tenure ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà/‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á

11. **`cat__Age_bin_<20`** - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 20 ‡∏õ‡∏µ (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô ‚Üí ‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å)

12. **`cat__Geography_Germany`** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô (‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)

13. **`cat__Age_bin_20-30`** - ‡∏≠‡∏≤‡∏¢‡∏∏ 20-30 ‡∏õ‡∏µ (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô ‚Üí ‡∏•‡∏î Churn)

14. **`cat__Geography_Spain`** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡πÄ‡∏õ‡∏ô

15. **`cat__CreditScore_bin_DD`** - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö DD

**üí° Insights ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **‡∏≠‡∏≤‡∏¢‡∏∏‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:**

   - ‡∏≠‡∏≤‡∏¢‡∏∏ > 60, 51-60, 41-50 ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏™‡∏π‡∏á
   - ‡∏≠‡∏≤‡∏¢‡∏∏ < 20, 20-30 ‚Üí ‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å

2. **Balance ‡∏°‡∏µ‡∏ú‡∏•‡πÅ‡∏õ‡∏•‡∏Å‡πÜ:**

   - Balance ‡∏ï‡πà‡∏≥, ‡∏Å‡∏•‡∏≤‡∏á, ‡∏™‡∏π‡∏á ‡∏•‡πâ‡∏ß‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î!
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ Balance ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à Churn

3. **Geography:**

   - ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - ‡∏™‡πÄ‡∏õ‡∏ô ‚Üí ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤

4. **Credit Score:** ‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å)

**‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ categorical features ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô One-Hot Encoding ‡πÅ‡∏•‡πâ‡∏ß ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô features ‡πÅ‡∏ö‡∏ö continuous ‡πÄ‡∏ä‡πà‡∏ô `Age`, `Balance` ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÅ‡∏ï‡πà‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏õ‡πá‡∏ô bins ‡πÅ‡∏ó‡∏ô (‡πÄ‡∏ä‡πà‡∏ô `cat__Age_bin_>60`, `cat__Balance_bin_Low`)

---

##### 7. SHAP Bar Plot (`shap_bar.png`)

<img src="../plots/run_1/shap_bar.png" alt="SHAP Bar Plot" width="600">

**Mean Absolute SHAP Value ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- ‡πÅ‡∏™‡∏î‡∏á **‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á SHAP value** (‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ö‡∏ß‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏ö)
- **‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á** = feature ‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ prediction ‡∏°‡∏≤‡∏Å = **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å**
- ‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å SHAP Summary Plot ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á (‡∏ö‡∏ß‡∏Å/‡∏•‡∏ö) ‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏Ñ‡πà **‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö**

**Top 15 Features (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**

1. **`cat__Age_bin_>60`** - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 60 ‡∏õ‡∏µ (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
2. **`cat__Balance_bin_Low`** - ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πà‡∏≥
3. **`cat__Geography_France`** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™
4. **`cat__Balance_bin_High`** - ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á
5. **`cat__CreditScore_bin_FF`** - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö FF
6. **`cat__Balance_bin_Medium`** - ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
7. **`cat__Age_bin_51-60`** - ‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ
8. **`cat__CreditScore_bin_EE`** - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö EE
9. **`cat__Age_bin_41-50`** - ‡∏≠‡∏≤‡∏¢‡∏∏ 41-50 ‡∏õ‡∏µ
10. **`cat__Tenure_bin_New/At-Risk`** - Tenure ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà/‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
11. **`cat__Age_bin_<20`** - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 20 ‡∏õ‡∏µ
12. **`cat__Geography_Germany`** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô
13. **`cat__Age_bin_20-30`** - ‡∏≠‡∏≤‡∏¢‡∏∏ 20-30 ‡∏õ‡∏µ
14. **`cat__Geography_Spain`** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡πÄ‡∏õ‡∏ô
15. **`cat__CreditScore_bin_DD`** - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö DD

**üí° Insights:**

- **‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏£‡∏≠‡∏á‡πÅ‡∏ä‡∏°‡∏õ‡πå** - Features ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏£‡∏≠‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Top 10 ‡∏ñ‡∏∂‡∏á 4 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö!
- **Balance ‡∏°‡∏µ‡∏ú‡∏•‡∏°‡∏≤‡∏Å** - ‡∏ó‡∏±‡πâ‡∏á Low, High, Medium ‡∏•‡πâ‡∏ß‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Top 10
- **Geography ‡∏°‡∏µ‡∏ú‡∏•** - ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Top 15

---

##### 8. SHAP Waterfall Plots

**Sample 0** (`shap_waterfall_sample0.png`)

<img src="../plots/run_1/shap_waterfall_sample0.png" alt="SHAP Waterfall - Sample 0" width="600">

**SHAP Waterfall Plot ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 1 ‡∏Ñ‡∏ô** ‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ **feature ‡πÑ‡∏´‡∏ô‡∏ú‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ Churn ‡∏´‡∏£‡∏∑‡∏≠ Not Churn** ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°" ‡∏ß‡πà‡∏≤ prediction ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏à‡∏≤‡∏Å base value ‚Üí final value

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô Waterfall Plot:**

1. **E[f(X)] = Base value** (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)

   - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏ä‡∏∏‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
   - ‡πÉ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ: **E[f(X)] = 0.001** (‚âà 0%) - ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å

2. **‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡πÅ‡∏î‡∏á/‡∏ä‡∏°‡∏û‡∏π** (‚Üí) = **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn** (SHAP value ‡∏ö‡∏ß‡∏Å)

   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `cat__Geography_Germany = 0` ‚Üí **+0.34**
   - ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á: ‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô** 0.34

3. **‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** (‚Üê) = **‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn** (SHAP value ‡∏•‡∏ö)

   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `cat__CreditScore_bin_DD = 0` ‚Üí **-0.57**
   - ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á: ‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **‡πÑ‡∏°‡πà‡∏°‡∏µ** Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö DD ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn **‡∏•‡∏î‡∏•‡∏á** 0.57

4. **f(x) = Final value** (prediction ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢)
   - ‡∏ú‡∏•‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á base value + SHAP values ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
   - ‡πÉ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ: **f(x) = -1.249** (‡∏Ñ‡πà‡∏≤‡∏•‡∏ö‡∏°‡∏≤‡∏Å) ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **‡πÑ‡∏°‡πà Churn** ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü Sample 0 ‡∏ô‡∏µ‡πâ:**

```
Base value: E[f(X)] = 0.001 (‚âà 0%)
  - cat__CreditScore_bin_DD = 0: -0.57 ‚Üí -0.569
  - cat__Geography_Spain = 0: -0.51 ‚Üí -1.079
  - cat__Age_bin_20-30 = 0: -0.48 ‚Üí -1.559
  + cat__Geography_Germany = 0: +0.34 ‚Üí -1.219
  - cat__Age_bin_<20 = 0: -0.34 ‚Üí -1.559
  - cat__Tenure_bin_New/At-Risk = 0: -0.30 ‚Üí -1.859
  ... (‡πÅ‡∏•‡∏∞ features ‡∏≠‡∏∑‡πà‡∏ô‡πÜ)
= Final value: f(x) = -1.249 ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **‡πÑ‡∏°‡πà Churn**
```

**üí° Insights ‡∏à‡∏≤‡∏Å Sample 0:**

1. **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ "‡πÑ‡∏°‡πà Churn" ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô** (f(x) = -1.249)
2. **Features ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:**
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö DD (-0.57)
   - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡πÄ‡∏õ‡∏ô (-0.51)
   - ‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 20-30 (-0.48)
3. **Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**
   - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô (+0.34)
   - ‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ (+0.26)
   - Balance ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (+0.24)

**‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**

- ‡∏Ñ‡πà‡∏≤ = 0 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á **‡πÑ‡∏°‡πà‡∏°‡∏µ** feature ‡∏ô‡∏±‡πâ‡∏ô (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏ä‡πâ One-Hot Encoding)
- ‡∏Ñ‡πà‡∏≤ = 1 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á **‡∏°‡∏µ** feature ‡∏ô‡∏±‡πâ‡∏ô
- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `cat__Geography_Germany = 0` ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô

---

##### 9. SHAP Dependence Plot (`shap_dependence_top.png`)

<img src="../plots/run_1/shap_dependence_top.png" alt="SHAP Dependence Plot" width="600">

**SHAP Dependence Plot ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á **‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á feature** ‡∏Å‡∏±‡∏ö **SHAP value** (‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ prediction)
- ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡πá‡∏ô **interaction effects** ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á features
- ‡πÉ‡∏ä‡πâ‡∏î‡∏π‡∏ß‡πà‡∏≤ feature ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ prediction ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á feature ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ:**

- **‡πÅ‡∏Å‡∏ô X** = `cat__CreditScore_bin_DD` (0 ‡∏´‡∏£‡∏∑‡∏≠ 1)
  - **0** = ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ **‡πÑ‡∏°‡πà‡∏°‡∏µ** Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö DD
  - **1** = ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ **‡∏°‡∏µ** Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö DD
- **‡πÅ‡∏Å‡∏ô Y** = SHAP value ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `cat__CreditScore_bin_DD`
  - ‡∏Ñ‡πà‡∏≤‡∏•‡∏ö (-0.565) = ‡∏•‡∏î Churn
  - ‡∏Ñ‡πà‡∏≤‡∏ö‡∏ß‡∏Å = ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
- **‡∏™‡∏µ** = `cat__Geography_France` (interaction feature)
  - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** (0.0) = ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà** ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™
  - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π/‡πÅ‡∏î‡∏á** (1.0) = ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ **‡πÄ‡∏õ‡πá‡∏ô** ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ:**

**Pattern ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô:**

1. **‡∏à‡∏∏‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà X = 0** (‡πÑ‡∏°‡πà‡∏°‡∏µ Credit Score DD)

   - SHAP value ‚âà -0.565 (‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å)
   - **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà **‡πÑ‡∏°‡πà‡∏°‡∏µ** Credit Score DD ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn **‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤**

2. **‡∏°‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà X = 1** (‡∏°‡∏µ Credit Score DD)

   - SHAP value ‚âà -0.565 ‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô
   - **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà **‡∏°‡∏µ** Credit Score DD ‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏ï‡πà‡∏≥‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô

3. **Interaction Effect (‡∏î‡∏π‡∏à‡∏≤‡∏Å‡∏™‡∏µ):**
   - **‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™) ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
   - **‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π** (‡πÄ‡∏õ‡πá‡∏ô‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™) ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏à‡∏∏‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡∏ó‡∏µ‡πà X=1)
   - **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:** Credit Score DD ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ Churn **‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô** ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏≠‡∏∑‡πà‡∏ô

**üí° Insights:**

1. **Credit Score DD ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

   - ‡∏ó‡∏±‡πâ‡∏á‡∏°‡∏µ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ Credit Score DD ‡∏Å‡πá‡∏°‡∏µ SHAP value ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ô
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ feature ‡∏ô‡∏µ‡πâ **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏°‡∏≤‡∏Å** ‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ Churn

2. **‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô Interaction Effect ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:**

   - ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡πÑ‡∏°‡πà‡∏°‡∏µ pattern ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ Credit Score DD ‡πÅ‡∏•‡∏∞ Geography ‡πÑ‡∏°‡πà‡∏°‡∏µ interaction ‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å

3. **‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á Categorical Feature:**
   - ‡πÅ‡∏Å‡∏ô X ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà 2 ‡∏Ñ‡πà‡∏≤ (0 ‡πÅ‡∏•‡∏∞ 1) ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô One-Hot Encoded feature
   - ‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å continuous features (‡πÄ‡∏ä‡πà‡∏ô Age, Balance) ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢

**‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**

- ‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ insight ‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Credit Score DD ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà feature ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡πá‡∏ô pattern ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ ‡∏Ñ‡∏ß‡∏£‡∏î‡∏π Dependence Plot ‡∏Ç‡∏≠‡∏á features ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏ä‡πà‡∏ô `cat__Age_bin_>60`, `cat__Geography_Germany`

---

#### üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å Visualizations

**üéØ ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ Churn:**

1. **‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å** (60+)
2. **‡πÑ‡∏°‡πà Active**
3. **‡∏°‡∏µ Products ‡∏ô‡πâ‡∏≠‡∏¢** (1-2 products)
4. **‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô**
5. **‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πà‡∏≥**

**üí° Actionable Insights ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:**

1. **‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏ 60+, ‡πÑ‡∏°‡πà Active, ‡∏°‡∏µ 1 Product
2. **‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô:**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° engagement ‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active
   - Cross-sell products ‡πÄ‡∏û‡∏¥‡πà‡∏° (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3-4)
   - ‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©
3. **‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô:** ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©

---

## üíº Business Impact Analysis

### ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:**

- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏ä‡∏∏‡∏î‡∏ó‡∏î‡∏™‡∏≠‡∏ö: **2,000 ‡∏Ñ‡∏ô**
- ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Churn ‡∏à‡∏£‡∏¥‡∏á: **306 ‡∏Ñ‡∏ô** (15.3%)
- ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Churn: **1,694 ‡∏Ñ‡∏ô** (84.7%)

**‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô/‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ:**

- ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 1 ‡∏Ñ‡∏ô (Customer Lifetime Value): **100,000 ‡∏ö‡∏≤‡∏ó**
- ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 1 ‡∏Ñ‡∏ô (Retention Campaign): **500 ‡∏ö‡∏≤‡∏ó**
- ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Ç‡∏≠‡∏á Retention Campaign: **30%** (‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô ‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ 30%)

---

### Scenario 1: ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Model (‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢)

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn: 306 ‡∏Ñ‡∏ô
- **‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢:** 306 √ó 100,000 = **30,600,000 ‡∏ö‡∏≤‡∏ó**
- ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Retention: 0 ‡∏ö‡∏≤‡∏ó
- **Net Loss: 30,600,000 ‡∏ö‡∏≤‡∏ó**

---

### Scenario 2: ‡πÉ‡∏ä‡πâ Logistic Regression (Current Model)

**Performance:**

- Recall = 0.70 ‚Üí ‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ **213 ‡∏Ñ‡∏ô** (‡∏à‡∏≤‡∏Å 306 ‡∏Ñ‡∏ô)
- Precision = 0.39 ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn **507 ‡∏Ñ‡∏ô** (213 ‡∏ñ‡∏π‡∏Å + 294 ‡∏ú‡∏¥‡∏î)

**‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Retention Campaign:**

- ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: 507 ‡∏Ñ‡∏ô √ó 500 ‡∏ö‡∏≤‡∏ó = **253,500 ‡∏ö‡∏≤‡∏ó**

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ: 213 √ó 30% = **64 ‡∏Ñ‡∏ô**
- ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ: 64 √ó 100,000 = **6,400,000 ‡∏ö‡∏≤‡∏ó**
- ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 306 - 64 = **242 ‡∏Ñ‡∏ô**
- ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏à‡∏≤‡∏Å Churn: 242 √ó 100,000 = **24,200,000 ‡∏ö‡∏≤‡∏ó**

**‡∏™‡∏£‡∏∏‡∏õ:**

- ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°: 253,500 ‡∏ö‡∏≤‡∏ó (Retention)
- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ: 6,400,000 ‡∏ö‡∏≤‡∏ó
- ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏à‡∏≤‡∏Å Churn: 24,200,000 ‡∏ö‡∏≤‡∏ó
- **Net Loss: 24,200,000 + 253,500 - 6,400,000 = 18,053,500 ‡∏ö‡∏≤‡∏ó**
- **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£: 30,600,000 - 18,053,500 = 12,546,500 ‡∏ö‡∏≤‡∏ó** ‚úÖ

**ROI ‡∏Ç‡∏≠‡∏á Model:**

- ROI = (12,546,500 - 253,500) / 253,500 √ó 100% = **4,849%** üöÄ

---

### üìä ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

| Scenario          | Recall | Precision | ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ (‡∏Ñ‡∏ô) | ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô (‡∏ö‡∏≤‡∏ó) | ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ (‡∏Ñ‡∏ô) | Net Loss (‡∏ö‡∏≤‡∏ó) | ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ (‡∏ö‡∏≤‡∏ó)  |
| ----------------- | ------ | --------- | ----------- | ------------ | ------------- | -------------- | ----------------- |
| **‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£**     | -      | -         | 0           | 0            | 0             | 30,600,000     | 0                 |
| **Current (0.5)** | 0.70   | 0.39      | 507         | 253,500      | 64            | 18,053,500     | **12,546,500** ‚≠ê |

---

### üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à

**1. Model ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏°‡∏≤‡∏Å**

- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ: **12.5 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ** (‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 2,000 ‡∏Ñ‡∏ô)
- ROI ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å: **4,849%**
- ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ 64 ‡∏Ñ‡∏ô (‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ 6.4 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó)

**2. ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**

- **Threshold Tuning**: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö threshold ‡∏ï‡πà‡∏≤‡∏á‡πÜ (0.3-0.7) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤ optimal point
- **XGBoost Optimization**: ‡∏õ‡∏£‡∏±‡∏ö hyperparameters ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ LR
- **Feature Engineering**: ‡∏™‡∏£‡πâ‡∏≤‡∏á interaction features ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° model performance

**3. ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå Retention ‡πÅ‡∏ö‡∏ö Tiered:**

- **High Priority** (Probability > 0.7): ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏ó‡∏µ‡∏°‡∏≠‡∏≤‡∏ß‡∏∏‡πÇ‡∏™ + ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©
- **Medium Priority** (0.4-0.7): ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏ó‡∏µ‡∏°‡∏õ‡∏Å‡∏ï‡∏¥ + ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
- **Low Priority** (< 0.4): ‡∏™‡πà‡∏á email/SMS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

**4. Focus Groups:**

- **‡∏≠‡∏≤‡∏¢‡∏∏ 60+** + ‡πÑ‡∏°‡πà Active ‚Üí ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- **‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô** + ‡∏°‡∏µ 1 Product ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©
- **Balance ‡∏ï‡πà‡∏≥** + Tenure ‡∏™‡∏±‡πâ‡∏ô ‚Üí ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á

---

### üéØ ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ KPIs ‡∏Ç‡∏≠‡∏á‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£

**‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Model (Current Threshold 0.5):**

- **Churn Rate ‡∏•‡∏î‡∏•‡∏á:** ‡∏à‡∏≤‡∏Å 15.3% ‚Üí 12.1% (‡∏•‡∏î 3.2%)
- **Customer Retention Rate ‡πÄ‡∏û‡∏¥‡πà‡∏°:** ‡∏à‡∏≤‡∏Å 84.7% ‚Üí 87.9%
- **Revenue Protected:** 6.4 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ (‡∏à‡∏≤‡∏Å 2,000 ‡∏Ñ‡∏ô)
- **‡∏ñ‡πâ‡∏≤‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ (100,000 ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤):** ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ **627 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó/‡∏õ‡∏µ** üöÄ

---

#### Plots

**All visualizations saved in:** `plots/run_1/`

- ‚úÖ `confusion_matrix_lr.png` - Confusion Matrix (Logistic Regression)
- ‚úÖ `confusion_matrix_xgb.png` - Confusion Matrix (XGBoost)
- ‚úÖ `roc_curves.png` - ROC Curves Comparison
- ‚úÖ `precision_recall_curves.png` - Precision-Recall Curves
- ‚úÖ `feature_importance_lr.png` - Feature Importance (LR Coefficients)
- ‚úÖ `feature_importance_xgb.png` - Feature Importance (XGBoost)
- ‚úÖ `shap_summary.png` - SHAP Summary Plot
- ‚úÖ `shap_bar.png` - SHAP Feature Importance
- ‚úÖ `shap_waterfall_sample0.png` - SHAP Waterfall (Sample 0)
- ‚úÖ `shap_waterfall_churn.png` - SHAP Waterfall (Churned Customer)
- ‚úÖ `shap_dependence_top.png` - SHAP Dependence Plot

---

### Run #2 - 2025-12-12 (Separate Preprocessing: LR vs XGBoost)

#### Configuration

**Key Change:** ‡πÅ‡∏¢‡∏Å preprocessing pipeline ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏°‡πÄ‡∏î‡∏•

- **Logistic Regression:**

  - Preprocessing: `FixedBinnerForLR` + `OneHotEncoder`
  - Features: 25 features (binned + one-hot encoded)
  - `class_weight: 'balanced'`
  - `max_iter: 1000`
  - `solver: 'lbfgs'`

- **XGBoost:**

  - Preprocessing: `FixedBinnerForXGBoost` + `Label Encoding` (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ OneHot)
  - Features: **10 features** (binned + label encoded)
  - `n_estimators: 100`
  - `max_depth: 6`
  - `learning_rate: 0.1`
  - `scale_pos_weight: 3.9088`

- **Cross-Validation:** 5-Fold
- **Threshold:** 0.5 (default)

#### Motivation

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏¢‡∏Å Preprocessing:**

1. **Logistic Regression ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ One-Hot Encoding** - ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ LR ‡πÄ‡∏õ‡πá‡∏ô linear model ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ categorical features ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
2. **XGBoost ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏±‡∏ö Label Encoding** - Tree-based models ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ categorical features ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
3. **SHAP Plots ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô** - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ Label Encoding, Geography ‡πÅ‡∏•‡∏∞ Gender ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô 1 feature ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏≤‡∏¢ features

#### Results (Test Set)

| Model               | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ------------------- | ---------- | ---------- | ---------- | ---------- | ---------- |
| Logistic Regression | 0.7147     | 0.3887     | 0.6961     | 0.4988     | 0.7621     |
| **XGBoost**         | **0.7880** | **0.4862** | **0.6895** | **0.5703** | **0.8379** |

#### Cross-Validation Results

**Logistic Regression:**

- Accuracy: 0.7110 (+/- 0.0110) ‚úÖ Stable
- Precision: 0.3813 (+/- 0.0095) ‚úÖ Stable
- Recall: 0.6690 (+/- 0.0234) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
- F1: 0.4854 (+/- 0.0059) ‚úÖ Stable
- ROC-AUC: 0.7626 (+/- 0.0046) ‚úÖ Very Stable

**XGBoost:**

- Accuracy: 0.7963 (+/- 0.0089) ‚úÖ Stable
- Precision: 0.4996 (+/- 0.0160) ‚úÖ Stable
- Recall: 0.7005 (+/- 0.0385) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
- F1: 0.5832 (+/- 0.0243) ‚úÖ Stable
- ROC-AUC: 0.8355 (+/- 0.0146) ‚úÖ Stable

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏ó‡∏±‡πâ‡∏á 2 models ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° stable ‡∏î‡∏µ

#### Comparison with Run #1

**XGBoost Performance Improvement:**

| Metric        | Run #1 (OneHot) | Run #2 (Label) | Improvement   |
| ------------- | --------------- | -------------- | ------------- |
| **Accuracy**  | 0.6887          | **0.7880**     | **+14.4%** üöÄ |
| **Precision** | 0.3501          | **0.4862**     | **+38.9%** üöÄ |
| **Recall**    | 0.6144          | **0.6895**     | **+12.2%** ‚úÖ |
| **F1**        | 0.4460          | **0.5703**     | **+27.9%** üöÄ |
| **ROC-AUC**   | 0.7279          | **0.8379**     | **+15.1%** üéØ |

#### Observations & Insights

**üèÜ XGBoost ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ LR ‡πÅ‡∏•‡πâ‡∏ß!**

- ‡πÉ‡∏ô Run #1: LR ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ XGBoost ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å metrics
- ‡πÉ‡∏ô Run #2: **XGBoost ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ LR ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å metrics** (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô)

**‚úÖ ‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á:**

1. **ROC-AUC = 0.8379** ‚úÖ ‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 0.80 ‡πÅ‡∏•‡πâ‡∏ß!
2. **Features ‡∏•‡∏î‡∏•‡∏á 60%** - ‡∏à‡∏≤‡∏Å 25 ‚Üí 10 features ‡πÅ‡∏ï‡πà performance ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
3. **Precision ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 38.9%** - ‡∏•‡∏î False Positive ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å
4. **SHAP Plots ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å:**
   - Geography: 1 feature ‡πÅ‡∏ó‡∏ô 3 features (France, Germany, Spain)
   - Gender: 1 feature ‡πÅ‡∏ó‡∏ô 2 features (Male, Female)

**üí° Key Insights:**

1. **Label Encoding ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö XGBoost ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ OneHot**

   - Tree-based models ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ ordinal relationships ‡πÑ‡∏î‡πâ
   - ‡∏•‡∏î feature space ‚Üí ‡∏•‡∏î overfitting
   - Model ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

2. **Feature Engineering ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å**

   - ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å encoding ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö model ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° performance ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å
   - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ß‡πà‡∏≤ features ‡πÄ‡∏¢‡∏≠‡∏∞ = ‡∏î‡∏µ‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ

3. **Model Interpretability ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô**
   - SHAP plots ‡∏ó‡∏µ‡πà‡∏°‡∏µ features ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤
   - ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ feature ‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô

#### Next Steps & Recommendations

**‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **‚úÖ Achieved: ROC-AUC > 0.80** - ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!

2. **Threshold Tuning** (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≥‡∏ï‡πà‡∏≠)

   - ‡∏•‡∏≠‡∏á threshold = 0.3-0.4 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Recall
   - ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° threshold = 0.6-0.7 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Precision
   - ‡∏´‡∏≤ optimal threshold ‡∏ó‡∏µ‡πà balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall

3. **XGBoost Hyperparameter Tuning** (optional - ‡πÄ‡∏û‡∏∑‡πà‡∏≠ push performance ‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)

   - `n_estimators = 200-300`
   - `max_depth = 3-5`
   - `learning_rate = 0.05`
   - `min_child_weight = 3-5`

4. **Ensemble Methods** (advanced)
   - Voting Classifier: ‡∏£‡∏ß‡∏° LR + XGBoost
   - Stacking: ‡πÉ‡∏ä‡πâ meta-model

#### Visualizations & Analysis

**üìÅ Location:** `plots/run_2/`

##### 1. Confusion Matrices

**Logistic Regression:**

<img src="../plots/run_2/confusion_matrix_lr.png" alt="Confusion Matrix - Logistic Regression" width="600">

**Insights:**

- TP = 213, FP = 294, FN = 93, TN = 900
- Recall = 69.6% - ‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ‡∏î‡∏µ
- Precision = 38.9% - False Positive ‡∏¢‡∏±‡∏á‡∏™‡∏π‡∏á
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Run #1 (‡πÉ‡∏ä‡πâ preprocessing ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)

**XGBoost:**

<img src="../plots/run_2/confusion_matrix_xgb.png" alt="Confusion Matrix - XGBoost" width="600">

**Insights:**

- ‚úÖ **TP = 211** - ‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ 68.9%
- ‚úÖ **FP = 223** - ‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å Run #1 (294 ‚Üí 223) üéâ
- ‚úÖ **Precision ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å** - 48.6% (‡∏à‡∏≤‡∏Å 35% ‡πÉ‡∏ô Run #1)
- ‚ö†Ô∏è FN = 95 - ‡∏û‡∏•‡∏≤‡∏î Churn 95 ‡∏Ñ‡∏ô

**‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö LR vs XGBoost:**

- XGBoost ‡∏°‡∏µ Precision ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ (48.6% vs 38.9%)
- XGBoost ‡∏°‡∏µ False Positive ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ (223 vs 294)
- **XGBoost ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á**

---

##### 2. ROC Curves

<img src="../plots/run_2/roc_curves.png" alt="ROC Curves Comparison" width="600">

**Insights:**

- **XGBoost AUC = 0.838** üéØ ‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 0.80!
- Logistic Regression AUC = 0.762
- **XGBoost ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ LR ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô** (‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô 7.6%)
- ‡πÄ‡∏™‡πâ‡∏ô XGBoost ‡πÇ‡∏Ñ‡πâ‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ = ‡πÅ‡∏¢‡∏Å class ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:**

- AUC = 0.838 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á ‡∏ñ‡πâ‡∏≤‡∏™‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn 1 ‡∏Ñ‡∏ô ‡πÅ‡∏•‡∏∞ Not Churn 1 ‡∏Ñ‡∏ô
- Model ‡∏à‡∏∞‡πÉ‡∏´‡πâ score ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á 83.8% ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤

---

##### 3. Precision-Recall Curves

<img src="../plots/run_2/precision_recall_curves.png" alt="Precision-Recall Curves" width="600">

**Insights:**

- XGBoost curve ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ LR = ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å threshold
- **Trade-off ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:** Recall ‡∏™‡∏π‡∏á ‚Üí Precision ‡∏ï‡πà‡∏≥
- ‡∏ó‡∏µ‡πà Recall = 70%, XGBoost ‡πÑ‡∏î‡πâ Precision ~48% (LR ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà ~39%)

**‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**

- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Recall 80% ‚Üí Precision ‡∏à‡∏∞‡∏•‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~35-40%
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Precision 60% ‚Üí Recall ‡∏à‡∏∞‡∏•‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ~50-55%

---

##### 4. Feature Importance - Logistic Regression

<img src="../plots/run_2/feature_importance_lr.png" alt="Feature Importance - LR" width="600">

**Top Features (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Run #1):**

**üî¥ Negative (‡∏•‡∏î Churn):**

1. Age*bin*<20 (-1.8)
2. Age_bin_20-30 (-0.8)
3. Gender_Male (-0.3)

**üü¢ Positive (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn):**

1. Age_bin_51-60 (+1.6)
2. Age_bin_41-50 (+0.9)
3. Geography_Germany (+0.5)

---

##### 5. Feature Importance - XGBoost

<img src="../plots/run_2/feature_importance_xgb.png" alt="Feature Importance - XGBoost" width="600">

**üéØ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á Label Encoding:**

- ‡πÅ‡∏™‡∏î‡∏á feature names ‡∏à‡∏£‡∏¥‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà f0, f1, f2...)
- ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ feature ‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- **Geography ‡πÅ‡∏•‡∏∞ Gender ‡πÄ‡∏õ‡πá‡∏ô 1 feature** (‡πÑ‡∏°‡πà‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 ‡πÅ‡∏•‡∏∞ 2 features)

**Top Features (by XGBoost weight):**

1. **EstimatedSalary** (1436) - ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
2. **CreditScore** (422)
3. **Age** (365)
4. **Balance** (350)
5. **Geography** (327)
6. NumOfProducts (271)
7. Tenure (268)
8. IsActiveMember (176)
9. Gender (135)
10. HasCrCard (104)

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** XGBoost Feature Importance (weight) ‡∏ß‡∏±‡∏î‡∏à‡∏≤‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà feature ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô tree splits

---

##### 6. SHAP Summary Plot

<img src="../plots/run_2/shap_summary.png" alt="SHAP Summary Plot" width="600">

**üéâ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å Run #1:**

**Run #1 (OneHot):**

- Geography ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 features (France, Germany, Spain)
- Gender ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 2 features (Male, Female)
- ‡∏£‡∏ß‡∏° ~25 features - **‡∏≠‡πà‡∏≤‡∏ô‡∏¢‡∏≤‡∏Å**

**Run #2 (Label Encoding):**

- Geography = 1 feature (0=France, 1=Germany, 2=Spain)
- Gender = 1 feature (0=Female, 1=Male)
- ‡∏£‡∏ß‡∏° 10 features - **‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å!** ‚úÖ

**Top 10 Features by SHAP (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü):**

1. **Balance** - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î! ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ Churn ‡∏°‡∏≤‡∏Å
2. **NumOfProducts** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô products ‡∏°‡∏µ‡∏ú‡∏•‡∏°‡∏≤‡∏Å (3-4 products = Churn ‡∏™‡∏π‡∏á)
3. **IsActiveMember** - ‡πÑ‡∏°‡πà active = Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
4. **Age** - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏µ‡∏ú‡∏•‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
5. **Tenure** - ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
6. **EstimatedSalary** - ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£
7. **Gender** - ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
8. **CreditScore** - ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
9. **Geography** - ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤
10. **HasCrCard** - ‡∏°‡∏µ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

**üîç Insights ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

- **Balance ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** (‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å XGBoost weight!)
- **NumOfProducts** ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products ‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á
- **IsActiveMember** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà active ‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
- **SHAP ‡∏ß‡∏±‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏£‡∏¥‡∏á ‚â† XGBoost weight** (weight ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)

---

##### 7. SHAP Bar Plot

<img src="../plots/run_2/shap_bar.png" alt="SHAP Bar Plot" width="600">

**Mean Absolute SHAP Value:**

- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö (‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á)
- ‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á = feature ‡∏ô‡∏±‡πâ‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å

**Top 5 (‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏≤‡∏ü):**

1. **Balance** (~0.85) - ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
2. **NumOfProducts** (~0.80)
3. **IsActiveMember** (~0.45)
4. **Age** (~0.30)
5. **Tenure** (~0.25)

**‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:** Balance ‡πÅ‡∏•‡∏∞ NumOfProducts ‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ features ‡∏≠‡∏∑‡πà‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

---

##### 8. SHAP Waterfall Plots

**Sample 0 (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ - ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Not Churn):**

<img src="../plots/run_2/shap_waterfall_sample0.png" alt="SHAP Waterfall - Sample 0" width="600">

**‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£:**

- Base value (f(x) = -1.449) = log-odds ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢
- ‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡πÅ‡∏î‡∏á (‚Üí) = ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- ‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (‚Üê) = ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- E[f(X)] = 0.001 = prediction ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ (‡πÉ‡∏Å‡∏•‡πâ 0 = Not Churn)

**‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Sample 0:**

**üî¥ Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**

1. **Balance = 4** (+1.46) - ‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏°‡∏≤‡∏Å!
2. **CreditScore = 1** (+0.17) - ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á

**üîµ Features ‡∏ó‡∏µ‡πà‡∏•‡∏î Churn:**

1. **NumOfProducts = 2** (-1.13) - ‡∏°‡∏µ 2 products ‚Üí ‡∏•‡∏î Churn
2. **IsActiveMember = 1** (-0.91) - ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Active ‚Üí ‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å
3. **EstimatedSalary** (-0.44)
4. **Gender = 0** (-0.35) - ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ‚Üí ‡∏•‡∏î Churn
5. **Age = 0** (-0.14)

**‡∏™‡∏£‡∏∏‡∏õ:** ‡πÅ‡∏°‡πâ‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Active ‡πÅ‡∏•‡∏∞‡∏°‡∏µ 2 products ‚Üí **‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Not Churn** ‚úÖ

---

**Sample 1 (Churned Customer - ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn):**

<img src="../plots/run_2/shap_waterfall_churn.png" alt="SHAP Waterfall - Churned Customer" width="600">

**‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Sample 1:**

**üî¥ Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn (‡∏ú‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ Churn):**

1. **Balance = 3** (+0.6) - ‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á
2. **IsActiveMember = 0** (+0.58) - **‡πÑ‡∏°‡πà Active** ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏°‡∏≤‡∏Å!
3. **NumOfProducts = 1** (+0.2) - ‡∏°‡∏µ‡πÅ‡∏Ñ‡πà 1 product
4. **Tenure = 0** (+0.14) - ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà

**üîµ Features ‡∏ó‡∏µ‡πà‡∏•‡∏î Churn:**

1. **EstimatedSalary** (-0.58) - ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏π‡∏á ‚Üí ‡∏•‡∏î Churn
2. **Age = 2** (-0.33) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
3. **Gender = 2** (-0.18)
4. **CreditScore = 0** (-0.06)

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤**‡πÑ‡∏°‡πà Active** + ‡∏°‡∏µ 1 product + ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà ‚Üí **‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn** ‚ö†Ô∏è

**üí° Insights ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

- **IsActiveMember ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á
- **Balance ‡∏™‡∏π‡∏á ‚â† ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà Active ‡∏Å‡πá‡∏¢‡∏±‡∏á Churn ‡πÑ‡∏î‡πâ
- **NumOfProducts** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ 2 products
- ‡πÉ‡∏ä‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÉ‡∏´‡πâ business team ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡∏ñ‡∏∂‡∏á‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡∏ô‡∏±‡πâ‡∏ô

---

##### 9. SHAP Dependence Plot - Balance

<img src="../plots/run_2/shap_dependence_top.png" alt="SHAP Dependence Plot - Balance" width="600">

**Insights:**

- ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á **Balance** (‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô) ‡∏Å‡∏±‡∏ö SHAP value
- ‡∏™‡∏µ = IsActiveMember (interaction effect)
- **Pattern ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô:**
  - Balance = 0 (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô) ‚Üí SHAP value ‡∏ï‡∏¥‡∏î‡∏•‡∏ö (‡∏•‡∏î Churn)
  - Balance ‡∏™‡∏π‡∏á (4-5) ‚Üí SHAP value ‡∏™‡∏π‡∏á (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
  - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active (‡∏™‡∏µ‡∏ü‡πâ‡∏≤) ‡∏°‡∏µ SHAP value ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤
- **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà Active ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á!

---

#### üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å Visualizations

**üéØ ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ Churn:**

1. **‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å** (40+, ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 51-60)
2. **‡πÑ‡∏°‡πà Active**
3. **‡∏°‡∏µ Products ‡∏°‡∏≤‡∏Å** (3-4 products)
4. **‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô**
5. **‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á** (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)

**üí° Actionable Insights ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:**

1. **‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á:** ‡∏≠‡∏≤‡∏¢‡∏∏ 50+, ‡πÑ‡∏°‡πà Active, ‡∏°‡∏µ 3-4 Products
2. **‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô:**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° engagement ‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active
   - Review product portfolio - ‡∏ó‡∏≥‡πÑ‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ products ‡πÄ‡∏¢‡∏≠‡∏∞‡∏ñ‡∏∂‡∏á Churn?
   - ‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©
3. **‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô:** ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏© - ‡∏ó‡∏≥‡πÑ‡∏° Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏≠‡∏∑‡πà‡∏ô?

---

### Run #3 - 2025-12-14 (SMOTE Resampling)

#### Configuration

**Key Change:** ‡πÉ‡∏ä‡πâ SMOTE (Synthetic Minority Over-sampling Technique) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ class imbalance

- **Logistic Regression:**

  - Preprocessing: `FixedBinnerForLR` + `OneHotEncoder`
  - Features: 25 features (binned + one-hot encoded)
  - **Resampling: SMOTE** - ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö minority class
  - `class_weight: 'balanced'`
  - `max_iter: 1000`
  - `solver: 'lbfgs'`

- **XGBoost:**

  - Preprocessing: `FixedBinnerForXGBoost` + `Label Encoding`
  - Features: 10 features (binned + label encoded)
  - **Resampling: SMOTE** - ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö minority class
  - `n_estimators: 100`
  - `max_depth: 6`
  - `learning_rate: 0.1`
  - `scale_pos_weight: 1.0000` (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å 3.9088 ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ SMOTE ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡πâ‡∏ß)

- **Cross-Validation:** 5-Fold
- **Threshold:** 0.5 (default)

#### Imbalance Handling Strategy

**‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:** SMOTE (Synthetic Minority Over-sampling Technique)

**‡∏Å‡πà‡∏≠‡∏ô SMOTE:**

- Class 0 (‡πÑ‡∏°‡πà Churn): **5,574** samples
- Class 1 (Churn): **1,426** samples
- **‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô**: ~4:1 (‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•)

**‡∏´‡∏•‡∏±‡∏á SMOTE:**

- Class 0 (‡πÑ‡∏°‡πà Churn): **5,574** samples (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
- Class 1 (Churn): **5,574** samples (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 1,426)
- **‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô**: 1:1 (‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡πâ‡∏ß! ‚úÖ)
- **Total samples**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 7,000 ‚Üí **11,148** samples (+4,148 synthetic samples)

**‡∏ó‡∏≥‡πÑ‡∏°‡πÉ‡∏ä‡πâ SMOTE:**

- ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà duplicate)
- ‚úÖ ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ model ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ minority class ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡∏•‡∏î bias ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ï‡πà‡∏≠ majority class
- ‚ö†Ô∏è ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á overfitting ‡πÅ‡∏•‡∏∞ noise ‡∏à‡∏≤‡∏Å synthetic data

#### Results (Test Set)

| Model               | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ------------------- | ---------- | ---------- | ---------- | ---------- | ---------- |
| Logistic Regression | 0.6980     | 0.3708     | 0.6895     | 0.4823     | 0.7600     |
| **XGBoost**         | **0.8020** | **0.5123** | **0.6144** | **0.5587** | **0.8170** |

#### Cross-Validation Results

**Logistic Regression:**

- Accuracy: 0.7047 (+/- 0.0069) ‚úÖ Very Stable
- Precision: 0.7090 (+/- 0.0100) ‚úÖ Stable
- Recall: 0.6950 (+/- 0.0163) ‚úÖ Stable
- F1: 0.7017 (+/- 0.0080) ‚úÖ Very Stable
- ROC-AUC: 0.7753 (+/- 0.0047) ‚úÖ Very Stable

**XGBoost:**

- Accuracy: 0.8315 (+/- 0.0642) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á (‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å SMOTE)
- Precision: 0.8391 (+/- 0.0166) ‚úÖ Stable
- Recall: 0.8176 (+/- 0.1436) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
- F1: 0.8220 (+/- 0.0891) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á
- ROC-AUC: 0.9087 (+/- 0.0535) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á

**‚ö†Ô∏è ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:** XGBoost ‡∏°‡∏µ CV scores ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà Test scores ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å ‚Üí **‡∏≠‡∏≤‡∏à‡∏°‡∏µ overfitting ‡∏à‡∏≤‡∏Å SMOTE**

#### Comparison with Run #2

**XGBoost Performance Change:**

| Metric        | Run #2 (No SMOTE) | Run #3 (SMOTE) | Change        |
| ------------- | ----------------- | -------------- | ------------- |
| **Accuracy**  | **0.7880**        | 0.8020         | **+1.8%** ‚úÖ  |
| **Precision** | **0.4862**        | **0.5123**     | **+5.4%** ‚úÖ  |
| **Recall**    | **0.6895**        | 0.6144         | **-10.9%** ‚ùå |
| **F1**        | **0.5703**        | 0.5587         | **-2.0%** ‚ö†Ô∏è  |
| **ROC-AUC**   | **0.8379**        | 0.8170         | **-2.5%** ‚ùå  |

**Logistic Regression Performance Change:**

| Metric        | Run #2 (No SMOTE) | Run #3 (SMOTE) | Change       |
| ------------- | ----------------- | -------------- | ------------ |
| **Accuracy**  | **0.7147**        | 0.6980         | **-2.3%** ‚ùå |
| **Precision** | **0.3887**        | 0.3708         | **-4.6%** ‚ùå |
| **Recall**    | **0.6961**        | 0.6895         | **-0.9%** ‚ö†Ô∏è |
| **F1**        | **0.4988**        | 0.4823         | **-3.3%** ‚ùå |
| **ROC-AUC**   | **0.7621**        | 0.7600         | **-0.3%** ‚ö†Ô∏è |

#### Observations & Insights

**‚ùå SMOTE ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Performance:**

1. **XGBoost:**

   - ‚úÖ Precision ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (+5.4%)
   - ‚ùå Recall **‡∏•‡∏î‡∏•‡∏á‡∏°‡∏≤‡∏Å** (-7.5 percentage points, ‡∏à‡∏≤‡∏Å 68.95% ‚Üí 61.44%) - ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏ç‡πà!
   - ‚ùå ROC-AUC ‡∏•‡∏î‡∏•‡∏á (-2.5%)
   - ‚ö†Ô∏è **Overfitting ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:** CV scores ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å (0.91) ‡πÅ‡∏ï‡πà Test scores ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ (0.82)

2. **Logistic Regression:**
   - ‚ùå ‡∏ó‡∏∏‡∏Å metrics ‡∏•‡∏î‡∏•‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°
   - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏à‡∏≤‡∏Å SMOTE ‡πÄ‡∏•‡∏¢

**üîç ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà SMOTE ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•:**

1. **Synthetic Data ‡∏≠‡∏≤‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á Noise:**

   - SMOTE ‡∏™‡∏£‡πâ‡∏≤‡∏á 4,148 samples ‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏û‡∏¥‡πà‡∏° 59%)
   - Synthetic samples ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô pattern ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Churn

2. **Original Imbalance Ratio ‡πÑ‡∏°‡πà‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å:**

   - Ratio 4:1 ‡πÑ‡∏°‡πà‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å
   - Class weights ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ratio ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß (‡∏à‡∏≤‡∏Å Run #2)

3. **Overfitting:**
   - Model ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ pattern ‡∏à‡∏≤‡∏Å synthetic data ‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
   - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ generalize ‡∏Å‡∏±‡∏ö real data ‡πÑ‡∏î‡πâ‡πÅ‡∏¢‡πà‡∏•‡∏á

**üí° Key Insights:**

1. **Class Weights ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ**

   - Run #2 (Class Weights) ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ Run #3 (SMOTE) ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å metrics
   - ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ SMOTE ‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ

2. **CV Scores ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ:**

   - XGBoost CV: ROC-AUC = 0.91 (‡∏î‡∏π‡∏î‡∏µ‡∏°‡∏≤‡∏Å)
   - XGBoost Test: ROC-AUC = 0.82 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å)
   - ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ model overfit ‡∏Å‡∏±‡∏ö training data (‡∏£‡∏ß‡∏° synthetic data)

3. **Recall ‡∏•‡∏î‡∏•‡∏á = ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏ç‡πà:**
   - ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏à‡∏±‡∏ö Churn ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (Recall ‡∏™‡∏π‡∏á)
   - SMOTE ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Recall ‡∏•‡∏î‡∏•‡∏á 7.5 percentage points (‡∏à‡∏≤‡∏Å 68.95% ‚Üí 61.44%) ‚Üí ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå

#### Top 10 Features (SHAP - XGBoost)

‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå SHAP values:

1. **NumOfProducts** (0.8744) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
2. **IsActiveMember** (0.8414)
3. **Balance** (0.6552)
4. **Tenure** (0.5870)
5. **Age** (0.3781)
6. **Gender** (0.2793)
7. **Geography** (0.2690)
8. **EstimatedSalary** (0.2601)
9. **HasCrCard** (0.2545)
10. **CreditScore** (0.2277)

**üí° Insights:**

- **NumOfProducts** ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô feature ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Run #2 ‡∏ó‡∏µ‡πà Balance ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
- **IsActiveMember** ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á
- **Balance** ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡πÅ‡∏ï‡πà‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‚Üí ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 3

#### Visualizations & Analysis

**üìÅ Location:** `plots/run_3/`

##### 1. Feature Importance - Logistic Regression

<img src="../plots/run_3/feature_importance_lr.png" alt="Feature Importance - Logistic Regression" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = Coefficient Value (‡∏Ñ‡πà‡∏≤‡∏™‡∏±‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå)
- **‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß** = Positive coefficient ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏™‡∏µ‡πÅ‡∏î‡∏á** = Negative coefficient ‚Üí ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏¢‡∏¥‡πà‡∏á‡πÅ‡∏ó‡πà‡∏á‡∏¢‡∏≤‡∏ß** = ‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏°‡∏≤‡∏Å

**Top 15 Features:**

**üî¥ Negative Coefficients (‡∏•‡∏î Churn):**

1. **`cat__Age_bin_<20`** (-2.0) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 20 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
2. **`cat__Age_bin_20-30`** (-1.0) - ‡∏≠‡∏≤‡∏¢‡∏∏ 20-30 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
3. **`cat__Geography_France`** (-0.3) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
4. **`cat__Gender_Male`** (-0.3) - ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á
5. **`cat__Age_bin_31-40`** (-0.2) - ‡∏≠‡∏≤‡∏¢‡∏∏ 31-40 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
6. **`cat__Geography_Spain`** (-0.2) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡πÄ‡∏õ‡∏ô ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
7. **`cat__Balance_bin_Low`** (-0.2) - Balance ‡∏ï‡πà‡∏≥ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
8. **`cat__CreditScore_bin_EE`** (-0.2) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö EE ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢

**üü¢ Positive Coefficients (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn):**

1. **`cat__Age_bin_51-60`** (+1.8) - ‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ ‚Üí **Churn ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**
2. **`cat__Age_bin_41-50`** (+1.0) - ‡∏≠‡∏≤‡∏¢‡∏∏ 41-50 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á
3. **`cat__Age_bin_>60`** (+0.5) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 60 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á
4. **`cat__Geography_Germany`** (+0.5) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á
5. **`cat__Gender_Female`** (+0.2) - ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á ‚Üí Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢
6. **`cat__CreditScore_bin_HH`** (+0.2) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö HH ‚Üí Churn ‡∏™‡∏π‡∏á
7. **`cat__CreditScore_bin_GG`** (+0.1) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö GG ‚Üí Churn ‡∏™‡∏π‡∏á

**üí° Insights:**

1. **‡∏≠‡∏≤‡∏¢‡∏∏‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

   - ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ ‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (coefficient = +1.8)
   - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢ (<30) ‚Üí Churn ‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å
   - Pattern ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Run #1 ‡πÅ‡∏•‡∏∞ #2

2. **Geography:**

   - ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á (+0.5)
   - ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™/‡∏™‡πÄ‡∏õ‡∏ô ‚Üí Churn ‡∏ï‡πà‡∏≥

3. **Gender:**

   - ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

4. **SMOTE ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô LR Feature Importance ‡∏°‡∏≤‡∏Å:**
   - Pattern ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö Run #1 ‡πÅ‡∏•‡∏∞ #2
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ LR ‡∏°‡∏µ stability ‡∏™‡∏π‡∏á

---

##### 2. Feature Importance - XGBoost

<img src="../plots/run_3/feature_importance_xgb.png" alt="Feature Importance - XGBoost" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = Importance Score (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà feature ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô decision trees)
- **‡∏¢‡∏¥‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á** = feature ‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ = ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å

**Top 10 Features (by Importance Score):**

1. **EstimatedSalary** (1818.0) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
2. **CreditScore** (470.0)
3. **Age** (457.0)
4. **Balance** (437.0)
5. **Geography** (360.0)
6. **NumOfProducts** (325.0)
7. **Tenure** (321.0)
8. **HasCrCard** (186.0)
9. **Gender** (162.0)
10. **IsActiveMember** (120.0)

**üí° Insights:**

1. **EstimatedSalary ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô feature ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**

   - Importance score = 1818 (‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2 ‡∏ñ‡∏∂‡∏á 4 ‡πÄ‡∏ó‡πà‡∏≤!)
   - **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Run #2** ‡∏ó‡∏µ‡πà Balance ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   - ‚Üí SMOTE ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ model focus ‡∏ó‡∏µ‡πà EstimatedSalary ‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

2. **IsActiveMember ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏•‡∏á‡∏°‡∏≤‡∏Å:**

   - ‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1-2 ‡πÉ‡∏ô SHAP ‚Üí ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 10 ‡πÉ‡∏ô XGBoost Feature Importance
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ SHAP ‡πÅ‡∏•‡∏∞ XGBoost Feature Importance ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô

3. **NumOfProducts:**
   - ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 6 ‡πÉ‡∏ô XGBoost Feature Importance
   - ‡πÅ‡∏ï‡πà‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡πÉ‡∏ô SHAP
   - ‚Üí SHAP ‡∏≠‡∏≤‡∏à‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

**‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:**

- **Feature Importance ‡∏Ç‡∏≠‡∏á XGBoost ‚â† SHAP Importance**
- XGBoost Feature Importance ‡∏ö‡∏≠‡∏Å‡πÅ‡∏Ñ‡πà‡∏ß‡πà‡∏≤ feature ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô
- SHAP ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ feature ‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ prediction ‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô
- **SHAP ‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏° model

**üîç ‡∏ó‡∏≥‡πÑ‡∏° EstimatedSalary ‡∏ñ‡∏∂‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å‡πÉ‡∏ô XGBoost ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô SHAP:**

- XGBoost ‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ EstimatedSalary ‡πÄ‡∏õ‡πá‡∏ô split point ‡∏ö‡πà‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ prediction ‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å
- SHAP ‡∏ß‡∏±‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πà‡∏≠ output ‚Üí ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ NumOfProducts ‡πÅ‡∏•‡∏∞ IsActiveMember ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤

---

##### 3. SHAP Bar Plot

<img src="../plots/run_3/shap_bar.png" alt="SHAP Bar Plot - Run 3" width="600">

**Top 15 Features by Mean Absolute SHAP Value:**

1. **NumOfProducts** (0.87) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ products ‡∏°‡∏≤‡∏Å (3-4) ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ products ‡∏ô‡πâ‡∏≠‡∏¢ (1) ‡∏Å‡πá‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏±‡∏ô
2. **IsActiveMember** (0.84)
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active (0) ‚Üí Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Active (1) ‚Üí Churn ‡∏ï‡πà‡∏≥
3. **Balance** (0.66)
   - Balance ‡∏™‡∏π‡∏á ‚Üí Churn ‡∏™‡∏π‡∏á (‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à!)
4. **Tenure** (0.59)

   - Tenure ‡∏™‡∏±‡πâ‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á
   - Tenure ‡∏¢‡∏≤‡∏ß ‚Üí Churn ‡∏ï‡πà‡∏≥

5. **Age** (0.38) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á‡∏à‡∏≤‡∏Å Run #2

**üí° Insights:**

- **NumOfProducts** ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Run #2)
- **IsActiveMember** ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2
- **Age** ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏•‡∏á (‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡πÉ‡∏ô Run #2 ‚Üí ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 5 ‡πÉ‡∏ô Run #3)
- ‚Üí SMOTE ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô feature importance ‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á

---

##### 4. SHAP Summary Plot

<img src="../plots/run_3/shap_summary.png" alt="SHAP Summary Plot - Run 3" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = SHAP value (‡∏ö‡∏ß‡∏Å = ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn, ‡∏•‡∏ö = ‡∏•‡∏î Churn)
- **‡∏™‡∏µ** = Feature value (‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π/‡πÅ‡∏î‡∏á = High, ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô = Low)
- **‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î** = 1 ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

**Top Features Analysis:**

1. **NumOfProducts:**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (NumOfProducts = 3-4) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å‡∏™‡∏π‡∏á ‚Üí **Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å**
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (NumOfProducts = 1-2) ‚Üí SHAP value ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢
   - **Insight:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Churn ‡∏™‡∏π‡∏á!

2. **IsActiveMember:**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Active = 1) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí **‡∏•‡∏î Churn**
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Active = 0) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn**
   - **Insight:** ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô Active Member ‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å

3. **Balance:**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Balance ‡∏™‡∏π‡∏á) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn**
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Balance ‡∏ï‡πà‡∏≥) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - **Insight:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á (‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á!)

4. **Tenure:**

   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Tenure ‡∏¢‡∏≤‡∏ß) ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - ‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Tenure ‡∏™‡∏±‡πâ‡∏ô) ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn

5. **Age:**
   - Pattern ‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÄ‡∏ó‡πà‡∏≤ Run #2
   - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° Churn ‡∏™‡∏π‡∏á ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏î‡πà‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°

---

##### 5. SHAP Dependence Plot - NumOfProducts

<img src="../plots/run_3/shap_dependence_top.png" alt="SHAP Dependence Plot - NumOfProducts" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = NumOfProducts (1, 2, 3, 4)
- **‡πÅ‡∏Å‡∏ô Y** = SHAP value ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö NumOfProducts
- **‡∏™‡∏µ** = Gender (‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô = Female, ‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π/‡πÅ‡∏î‡∏á = Male)

**Pattern ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô:**

1. **NumOfProducts = 1:**

   - SHAP value ‚âà 0 ‡∏ñ‡∏∂‡∏á +1
   - **Insight:** ‡∏°‡∏µ product ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‚Üí Churn ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á

2. **NumOfProducts = 2:**

   - SHAP value ‚âà -2 ‡∏ñ‡∏∂‡∏á -0.5
   - **Insight:** ‡∏°‡∏µ 2 products ‚Üí **‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å** (‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)

3. **NumOfProducts = 3:**

   - SHAP value ‚âà +1 ‡∏ñ‡∏∂‡∏á +4
   - **Insight:** ‡∏°‡∏µ 3 products ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å!**

4. **NumOfProducts = 4:**
   - SHAP value ‚âà +3 ‡∏ñ‡∏∂‡∏á +4
   - **Insight:** ‡∏°‡∏µ 4 products ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å!**

**üí° Key Insights:**

- **Sweet Spot = 2 Products** - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 2 products ‡∏°‡∏µ Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- **1 Product = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á** - ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà engage ‡∏Å‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏≤‡∏Å‡∏û‡∏≠
- **3-4 Products = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á** - ‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à! ‡∏ó‡∏≥‡πÑ‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ products ‡πÄ‡∏¢‡∏≠‡∏∞‡∏ñ‡∏∂‡∏á Churn?
  - ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞: ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏î‡∏µ, ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏™‡∏π‡∏á, ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ products ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

**Interaction with Gender:**

- ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô pattern ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏®
- NumOfProducts ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ Churn ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á Male ‡πÅ‡∏•‡∏∞ Female

---

##### 6. SHAP Waterfall Plot - Churned Customer (Sample 8)

<img src="../plots/run_3/shap_waterfall_churn.png" alt="SHAP Waterfall - Churned Customer" width="600">

**Customer Profile:**

- **NumOfProducts** = 1 ‚Üí +0.74 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **CreditScore** = 7 ‚Üí -0.72 (‡∏•‡∏î Churn)
- **Balance** = 3 ‚Üí +0.61 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **IsActiveMember** = 0 ‚Üí +0.57 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **Tenure** = 0 ‚Üí +0.34 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **Geography** = 2 ‚Üí -0.33 (‡∏•‡∏î Churn)
- **EstimatedSalary** = 19632.64 ‚Üí +0.17 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **Gender** = 0 ‚Üí +0.14 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **HasCrCard** = 1 ‚Üí -0.10 (‡∏•‡∏î Churn)
- **Age** = 0 ‚Üí -0.09 (‡∏•‡∏î Churn)

**Final Prediction:** f(x) = 1.324 ‚Üí **‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn** ‚úÖ

**üí° Analysis:**

**Factors ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ Churn:**

1. **‡∏°‡∏µ Product ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß** (+0.74) - ‡πÑ‡∏°‡πà engage ‡∏Å‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏≤‡∏Å‡∏û‡∏≠
2. **Balance ‡∏™‡∏π‡∏á** (+0.61) - ‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏ï‡πà‡∏Å‡∏•‡∏±‡∏ö Churn (‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à!)
3. **‡πÑ‡∏°‡πà Active** (+0.57) - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
4. **Tenure ‡∏™‡∏±‡πâ‡∏ô** (+0.34) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà

**Factors ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn:**

1. **Credit Score ‡∏î‡∏µ** (-0.72) - ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠
2. **Geography** (-0.33) - ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏ó‡∏µ‡πà Churn ‡∏ï‡πà‡∏≥

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ Churn ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ **‡πÑ‡∏°‡πà Active** + **‡∏°‡∏µ Product ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß** + **Tenure ‡∏™‡∏±‡πâ‡∏ô** ‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞ Credit Score ‡∏î‡∏µ‡∏Å‡πá‡∏ï‡∏≤‡∏°

---

##### 7. SHAP Waterfall Plot - Non-Churned Customer (Sample 0)

<img src="../plots/run_3/shap_waterfall_sample0.png" alt="SHAP Waterfall - Sample 0" width="600">

**Customer Profile:**

- **IsActiveMember** = 1 ‚Üí -1.67 (‡∏•‡∏î Churn ‡∏°‡∏≤‡∏Å!)
- **NumOfProducts** = 2 ‚Üí -1.16 (‡∏•‡∏î Churn)
- **Balance** = 4 ‚Üí +1.14 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **Tenure** = 0 ‚Üí +0.42 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **Geography** = 2 ‚Üí -0.36 (‡∏•‡∏î Churn)
- **HasCrCard** = 1 ‚Üí -0.30 (‡∏•‡∏î Churn)
- **Gender** = 0 ‚Üí -0.28 (‡∏•‡∏î Churn)
- **CreditScore** = 1 ‚Üí +0.20 (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn)
- **EstimatedSalary** = 101515.76 ‚Üí -0.16 (‡∏•‡∏î Churn)
- **Age** = 0 ‚Üí -0.02 (‡∏•‡∏î Churn)

**Final Prediction:** f(x) = -2.171 ‚Üí **‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ ‡πÑ‡∏°‡πà Churn** ‚úÖ

**üí° Analysis:**

**Factors ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn:**

1. **‡πÄ‡∏õ‡πá‡∏ô Active Member** (-1.67) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
2. **‡∏°‡∏µ 2 Products** (-1.16) - Sweet spot!
3. **‡∏°‡∏µ Credit Card** (-0.30)
4. **Geography ‡∏î‡∏µ** (-0.36)

**Factors ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**

1. **Balance ‡∏™‡∏π‡∏á** (+1.14) - ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏Å‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ Churn
2. **Tenure ‡∏™‡∏±‡πâ‡∏ô** (+0.42)

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà Churn ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ **Active** + **‡∏°‡∏µ 2 Products** ‡∏ã‡∏∂‡πà‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞ offset factors ‡∏≠‡∏∑‡πà‡∏ô‡πÜ

---

#### üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å Visualizations

**üéØ ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ Churn (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Run #2):**

1. **‡∏°‡∏µ Products ‡∏°‡∏≤‡∏Å (3-4)** ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ô‡πâ‡∏≠‡∏¢ (1) - **‡πÉ‡∏´‡∏°‡πà!**
2. **‡πÑ‡∏°‡πà Active** - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!**
3. **Balance ‡∏™‡∏π‡∏á** - **‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à!**
4. **Tenure ‡∏™‡∏±‡πâ‡∏ô**
5. **‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å** (‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏•‡∏á)

**üí° Actionable Insights ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:**

1. **‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á:**

   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products + ‡πÑ‡∏°‡πà Active
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product + Tenure ‡∏™‡∏±‡πâ‡∏ô
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà Active

2. **‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô:**

   - **‡πÄ‡∏û‡∏¥‡πà‡∏° Engagement:** ‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡πà‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô (IsActiveMember)
   - **Product Optimization:**
     - Cross-sell ‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product ‚Üí 2 products
     - Review ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products ‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á Churn
   - **Balance Management:** ‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©

3. **Sweet Spot:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ **2 Products + Active** = Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

---

#### Next Steps & Recommendations

**‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ SMOTE ‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ:**

1. **Performance ‡πÅ‡∏¢‡πà‡∏•‡∏á** - ‡∏ó‡∏∏‡∏Å metrics ‡πÅ‡∏¢‡πà‡∏•‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°
2. **Overfitting** - CV scores ‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà Test scores ‡∏ï‡πà‡∏≥
3. **Feature Importance ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô** - ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á

**‚úÖ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Run #2 (Class Weights) ‡πÅ‡∏ó‡∏ô:**

- ROC-AUC ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ (0.838 vs 0.817)
- Recall ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ (0.690 vs 0.614)
- ‡πÑ‡∏°‡πà‡∏°‡∏µ overfitting
- Feature importance ‡∏™‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏°‡∏ú‡∏•‡∏Å‡∏ß‡πà‡∏≤

**üîÑ ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏•‡∏≠‡∏á:**

1. **Threshold Tuning** (Run #2) - ‡∏õ‡∏£‡∏±‡∏ö threshold ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Recall
2. **Hyperparameter Tuning** - ‡∏õ‡∏£‡∏±‡∏ö XGBoost parameters
3. **Feature Engineering** - ‡∏™‡∏£‡πâ‡∏≤‡∏á interaction features
4. **‡∏•‡∏≠‡∏á ADASYN** - ‡∏≠‡∏≤‡∏à‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ SMOTE (‡πÅ‡∏ï‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÄ‡∏ó‡πà‡∏≤ Class Weights)

---

#### Plots

**All visualizations saved in:** `plots/run_3/`

- ‚úÖ `feature_importance_lr.png` - Feature Importance (Logistic Regression)
- ‚úÖ `feature_importance_xgb.png` - Feature Importance (XGBoost)
- ‚úÖ `shap_summary.png` - SHAP Summary Plot
- ‚úÖ `shap_bar.png` - SHAP Feature Importance
- ‚úÖ `shap_waterfall_sample0.png` - SHAP Waterfall (Non-Churned Customer)
- ‚úÖ `shap_waterfall_churn.png` - SHAP Waterfall (Churned Customer)
- ‚úÖ `shap_dependence_top.png` - SHAP Dependence Plot (NumOfProducts)

---

### Run #4 - 2025-12-15 (ADASYN Resampling)

#### Configuration

**Key Change:** ‡πÉ‡∏ä‡πâ ADASYN (Adaptive Synthetic Sampling) ‡πÅ‡∏ó‡∏ô SMOTE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ class imbalance

- **Logistic Regression:**

  - Preprocessing: `FixedBinnerForLR` + `OneHotEncoder`
  - Features: 25 features (binned + one-hot encoded)
  - **Resampling: ADASYN** - ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡πÇ‡∏î‡∏¢ focus ‡∏ó‡∏µ‡πà samples ‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
  - `class_weight: 'balanced'`
  - `max_iter: 1000`
  - `solver: 'lbfgs'`

- **XGBoost:**

  - Preprocessing: `FixedBinnerForXGBoost` + `Label Encoding`
  - Features: 10 features (binned + label encoded)
  - **Resampling: ADASYN** - adaptive synthetic sampling
  - `n_estimators: 100`
  - `max_depth: 6`
  - `learning_rate: 0.1`
  - `scale_pos_weight: 1.0000` (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ ADASYN ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡πâ‡∏ß)

- **Cross-Validation:** 5-Fold
- **Threshold:** 0.5 (default)

#### Imbalance Handling Strategy

**‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:** ADASYN (Adaptive Synthetic Sampling)

**ADASYN vs SMOTE:**

- **SMOTE:** ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡πÄ‡∏ó‡πà‡∏≤‡πÜ ‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å sample
- **ADASYN:** ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples **‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô** ‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà model ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ú‡∏¥‡∏î (hard-to-learn samples)
- **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:** Focus ‡∏ó‡∏µ‡πà decision boundary ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
- **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:** ‡∏≠‡∏≤‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á noise ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ SMOTE

**‡∏Å‡πà‡∏≠‡∏ô ADASYN:**

- Class 0 (‡πÑ‡∏°‡πà Churn): **5,574** samples
- Class 1 (Churn): **1,426** samples
- **‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô**: ~4:1 (‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•)

**‡∏´‡∏•‡∏±‡∏á ADASYN:**

- Class 0 (‡πÑ‡∏°‡πà Churn): **5,574** samples (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
- Class 1 (Churn): **~5,574** samples (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 1,426)
- **‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô**: ~1:1 (‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡πâ‡∏ß! ‚úÖ)

#### Results (Test Set)

| Model               | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ------------------- | ---------- | ---------- | ---------- | ---------- | ---------- |
| Logistic Regression | 0.6927     | 0.3697     | 0.7190     | 0.4883     | 0.7617     |
| **XGBoost**         | **0.7980** | **0.5041** | **0.6013** | **0.5484** | **0.8106** |

#### Cross-Validation Results

**Logistic Regression:**

- Accuracy: 0.6712 (+/- 0.0228) ‚úÖ Stable
- Precision: 0.6816 (+/- 0.0201) ‚úÖ Stable
- Recall: 0.6503 (+/- 0.0330) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
- F1: 0.6655 (+/- 0.0264) ‚úÖ Stable
- ROC-AUC: 0.7305 (+/- 0.0223) ‚úÖ Stable

**XGBoost:**

- Accuracy: 0.8238 (+/- 0.0602) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á
- Precision: 0.8332 (+/- 0.0138) ‚úÖ Stable
- Recall: 0.8085 (+/- 0.1363) ‚ùå ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å (overfitting!)
- F1: 0.8150 (+/- 0.0843) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á
- ROC-AUC: 0.9053 (+/- 0.0500) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á

**‚ö†Ô∏è ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:** XGBoost ‡∏°‡∏µ CV scores ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà Test scores ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å ‚Üí **‡∏°‡∏µ overfitting ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô!**

#### Comparison with Run #2 & #3

**XGBoost Performance:**

| Metric        | Run #2 (Class Weights) | Run #3 (SMOTE) | Run #4 (ADASYN) | vs Run #2     | vs Run #3    |
| ------------- | ---------------------- | -------------- | --------------- | ------------- | ------------ |
| **Accuracy**  | **0.7880**             | 0.8020         | 0.7980          | **+1.3%** ‚úÖ  | **-0.5%** ‚ö†Ô∏è |
| **Precision** | **0.4862**             | 0.5123         | 0.5041          | **+3.7%** ‚úÖ  | **-1.6%** ‚ö†Ô∏è |
| **Recall**    | **0.6895**             | 0.6144         | 0.6013          | **-12.8%** ‚ùå | **-2.1%** ‚ùå |
| **F1**        | **0.5703**             | 0.5587         | 0.5484          | **-3.8%** ‚ùå  | **-1.8%** ‚ùå |
| **ROC-AUC**   | **0.8379**             | 0.8170         | 0.8106          | **-3.3%** ‚ùå  | **-0.8%** ‚ö†Ô∏è |

#### Observations & Insights

**‚ùå ADASYN ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Performance - ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡πÅ‡∏•‡∏∞ Class Weights!**

**1. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Run #2 (Class Weights) - Baseline ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:**

- ‚úÖ **Accuracy ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (+1.3%, ‡∏à‡∏≤‡∏Å 78.80% ‚Üí 79.80%)
- ‚úÖ **Precision ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (+3.7%, ‡∏à‡∏≤‡∏Å 48.62% ‚Üí 50.41%)
- ‚ùå **Recall ‡∏•‡∏î‡∏•‡∏á‡∏°‡∏≤‡∏Å** (-12.8%, ‡∏à‡∏≤‡∏Å 68.95% ‚Üí 60.13%) - **‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏ç‡πà!**
- ‚ùå **F1 ‡∏•‡∏î‡∏•‡∏á** (-3.8%, ‡∏à‡∏≤‡∏Å 57.03% ‚Üí 54.84%)
- ‚ùå **ROC-AUC ‡∏•‡∏î‡∏•‡∏á** (-3.3%, ‡∏à‡∏≤‡∏Å 83.79% ‚Üí 81.06%)

**2. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Run #3 (SMOTE):**

- ‚ö†Ô∏è **Accuracy ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (-0.5%)
- ‚ö†Ô∏è **Precision ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (-1.6%)
- ‚ùå **Recall ‡∏•‡∏î‡∏•‡∏á** (-2.1%, ‡∏à‡∏≤‡∏Å 61.44% ‚Üí 60.13%)
- ‚ùå **F1 ‡∏•‡∏î‡∏•‡∏á** (-1.8%)
- ‚ö†Ô∏è **ROC-AUC ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (-0.8%)

**üîç ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà ADASYN ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•:**

1. **Overfitting ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:**

   - CV ROC-AUC = 0.9053 (‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å!)
   - Test ROC-AUC = 0.8106 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å)
   - **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ~9.5%** ‚Üí Model overfit ‡∏Å‡∏±‡∏ö training data

2. **Recall Variance ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å:**

   - CV Recall = 0.8085 ¬± **0.1363** (std ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å!)
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ model ‡πÑ‡∏°‡πà stable

3. **ADASYN ‡∏™‡∏£‡πâ‡∏≤‡∏á Noise ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ SMOTE:**

   - ADASYN focus ‡∏ó‡∏µ‡πà hard-to-learn samples
   - ‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á
   - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ model ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ pattern ‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î

4. **Original Imbalance Ratio ‡πÑ‡∏°‡πà‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å:**
   - Ratio 4:1 ‡πÑ‡∏°‡πà‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å
   - Class weights ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ratio ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß

**üí° Key Insights:**

1. **Class Weights (Run #2) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**

   - ROC-AUC = 0.8379 (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
   - Recall = 0.6895 (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ overfitting

2. **ADASYN ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢:**

   - SMOTE: ROC-AUC = 0.8170, Recall = 0.6144
   - ADASYN: ROC-AUC = 0.8106, Recall = 0.6013

3. **Recall ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏ç‡πà:**
   - ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏à‡∏±‡∏ö Churn ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   - ADASYN ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Recall ‡∏•‡∏î‡∏•‡∏á 12.8% ‡∏à‡∏≤‡∏Å Run #2
   - ‚Üí **‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à!**

**üìä Ranking ‡∏Ç‡∏≠‡∏á Runs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:**

| Rank | Run | Method        | ROC-AUC    | Recall     | F1         |
| ---- | --- | ------------- | ---------- | ---------- | ---------- |
| ü•á 1 | #2  | Class Weights | **0.8379** | **0.6895** | **0.5703** |
| ü•à 2 | #3  | SMOTE         | 0.8170     | 0.6144     | 0.5587     |
| ü•â 3 | #4  | ADASYN        | 0.8106     | 0.6013     | 0.5484     |
| 4    | #1  | Baseline      | 0.7279     | 0.6144     | 0.4460     |

**üéØ ‡∏™‡∏£‡∏∏‡∏õ:**

- **Run #2 (Class Weights) ‡∏ä‡∏ô‡∏∞‡∏ó‡∏∏‡∏Å‡∏î‡πâ‡∏≤‡∏ô!**
- **ADASYN ‡πÅ‡∏•‡∏∞ SMOTE ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ**
- **Synthetic sampling ‡∏™‡∏£‡πâ‡∏≤‡∏á overfitting ‡πÅ‡∏•‡∏∞‡∏•‡∏î Recall**
- **‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ Run #2 ‡πÄ‡∏õ‡πá‡∏ô final model**

#### Visualizations & Analysis

**üìÅ Location:** `plots/run_4/`

##### 1. Feature Importance - Logistic Regression

<img src="../plots/run_4/feature_importance_lr.png" alt="Feature Importance - Logistic Regression" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = Coefficient Value (‡∏Ñ‡πà‡∏≤‡∏™‡∏±‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå)
- **‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß** = Positive coefficient ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏™‡∏µ‡πÅ‡∏î‡∏á** = Negative coefficient ‚Üí ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏¢‡∏¥‡πà‡∏á‡πÅ‡∏ó‡πà‡∏á‡∏¢‡∏≤‡∏ß** = ‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏°‡∏≤‡∏Å

**Top 15 Features ‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏≤‡∏ü:**

**üî¥ Negative Coefficients (‡∏•‡∏î Churn):**

1. **`cat__Age_bin_<20`** (-2.0) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 20 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
2. **`cat__Age_bin_20-30`** (-0.8) - ‡∏≠‡∏≤‡∏¢‡∏∏ 20-30 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
3. **`cat__Age_bin_31-40`** (-0.4) - ‡∏≠‡∏≤‡∏¢‡∏∏ 31-40 ‡∏õ‡∏µ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
4. **`cat__Gender_Male`** (-0.3) - ‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á
5. **`cat__Balance_bin_Low`** (-0.3) - Balance ‡∏ï‡πà‡∏≥ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
6. **`cat__Geography_France`** (-0.3) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
7. **`cat__Geography_Spain`** (-0.3) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡πÄ‡∏õ‡∏ô ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢
8. **`cat__CreditScore_bin_EE`** (-0.2) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö EE ‚Üí Churn ‡∏ô‡πâ‡∏≠‡∏¢

**üü¢ Positive Coefficients (‡πÄ‡∏û‡∏¥‡πà‡∏° Churn):**

1. **`cat__Age_bin_51-60`** (+1.6) - ‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ ‚Üí **Churn ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**
2. **`cat__Age_bin_41-50`** (+0.8) - ‡∏≠‡∏≤‡∏¢‡∏∏ 41-50 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á
3. **`cat__Age_bin_>60`** (+0.6) - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 60 ‡∏õ‡∏µ ‚Üí Churn ‡∏™‡∏π‡∏á
4. **`cat__Geography_Germany`** (+0.5) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á
5. **`cat__Gender_Female`** (+0.3) - ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á ‚Üí Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢
6. **`cat__CreditScore_bin_GG`** (+0.1) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö GG ‚Üí Churn ‡∏™‡∏π‡∏á
7. **`cat__CreditScore_bin_HH`** (+0.1) - Credit Score ‡∏£‡∏∞‡∏î‡∏±‡∏ö HH ‚Üí Churn ‡∏™‡∏π‡∏á

**üí° Insights:**

1. **Pattern ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ Run #1-3:**

   - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   - ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏¢‡∏∏ 51-60 ‡∏õ‡∏µ ‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
   - ‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢ (<30) ‚Üí Churn ‡∏ï‡πà‡∏≥

2. **Geography:**

   - ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á
   - ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™/‡∏™‡πÄ‡∏õ‡∏ô ‚Üí Churn ‡∏ï‡πà‡∏≥

3. **ADASYN ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô LR Feature Importance ‡∏°‡∏≤‡∏Å:**
   - Pattern ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö Run #3 (SMOTE)
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ LR ‡∏°‡∏µ stability ‡∏™‡∏π‡∏á

---

##### 2. Feature Importance - XGBoost

<img src="../plots/run_4/feature_importance_xgb.png" alt="Feature Importance - XGBoost" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = Importance Score (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà feature ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô decision trees)
- **‡∏¢‡∏¥‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á** = feature ‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ = ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å

**Top 10 Features (by Importance Score):**

1. **EstimatedSalary** (1789.0) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
2. **Age** (475.0)
3. **Balance** (438.0)
4. **CreditScore** (427.0)
5. **Geography** (417.0)
6. **NumOfProducts** (351.0)
7. **Tenure** (308.0)
8. **Gender** (165.0)
9. **HasCrCard** (147.0)
10. **IsActiveMember** (123.0)

**üí° Insights:**

1. **EstimatedSalary ‡∏Ñ‡∏£‡∏≠‡∏á‡πÅ‡∏ä‡∏°‡∏õ‡πå:**

   - Importance score = 1789 (‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2 ‡∏ñ‡∏∂‡∏á 3.7 ‡πÄ‡∏ó‡πà‡∏≤!)
   - ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö Run #3 (SMOTE)
   - ‚Üí ADASYN ‡πÅ‡∏•‡∏∞ SMOTE ‡∏ó‡∏≥‡πÉ‡∏´‡πâ model focus ‡∏ó‡∏µ‡πà EstimatedSalary ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

2. **Age, Balance, CreditScore:**

   - ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Top 5 ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö Run #2 ‡πÅ‡∏•‡∏∞ #3
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ features ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏à‡∏£‡∏¥‡∏á‡πÜ

3. **IsActiveMember ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏•‡∏á:**
   - ‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1-2 ‡πÉ‡∏ô SHAP ‚Üí ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 10 ‡πÉ‡∏ô XGBoost Feature Importance
   - ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö Run #3

**‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:**

- **XGBoost Feature Importance ‚â† SHAP Importance**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π SHAP plots ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏£‡∏¥‡∏á

---

##### 3. SHAP Bar Plot

<img src="../plots/run_4/shap_bar.png" alt="SHAP Bar Plot" width="600">

**Mean Absolute SHAP Value:**

- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö (‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á)
- **‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á** = feature ‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ prediction ‡∏°‡∏≤‡∏Å

**Top 10 Features by Mean |SHAP value|:**

1. **NumOfProducts** (~0.90) - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**
2. **IsActiveMember** (~0.85)
3. **Balance** (~0.70)
4. **Tenure** (~0.60)
5. **Age** (~0.38)
6. **Geography** (~0.28)
7. **Gender** (~0.27)
8. **EstimatedSalary** (~0.26)
9. **HasCrCard** (~0.25)
10. **CreditScore** (~0.20)

**üí° Insights ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **NumOfProducts ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**

   - Mean |SHAP| ~0.90 (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products ‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product ‡∏Å‡πá‡∏°‡∏µ Churn ‡∏™‡∏π‡∏á
   - **Sweet spot: 2 products**

2. **IsActiveMember ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å:**

   - Mean |SHAP| ~0.85 (‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2)
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà Active ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
   - ‚Üí **‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° engagement!**

3. **Balance ‡∏°‡∏µ‡∏ú‡∏•‡∏°‡∏≤‡∏Å:**

   - Mean |SHAP| ~0.70 (‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 3)
   - Balance ‡∏™‡∏π‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πà‡∏≥‡∏°‡∏≤‡∏Å‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ Churn

4. **SHAP vs XGBoost Feature Importance:**
   - **SHAP:** NumOfProducts, IsActiveMember, Balance (Top 3)
   - **XGBoost:** EstimatedSalary, Age, Balance (Top 3)
   - ‚Üí **SHAP ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤**

**üîç ‡∏ó‡∏≥‡πÑ‡∏° EstimatedSalary ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô XGBoost ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô SHAP:**

- XGBoost ‡πÉ‡∏ä‡πâ EstimatedSalary ‡πÄ‡∏õ‡πá‡∏ô split point ‡∏ö‡πà‡∏≠‡∏¢ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢)
- ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠ prediction ‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å
- SHAP ‡∏ß‡∏±‡∏î‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏£‡∏¥‡∏á ‚Üí ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ NumOfProducts ‡πÅ‡∏•‡∏∞ IsActiveMember ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤

---

##### 4. SHAP Summary Plot

<img src="../plots/run_4/shap_summary.png" alt="SHAP Summary Plot" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î** = 1 ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- **‡∏™‡∏µ** = ‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á feature
  - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π/‡πÅ‡∏î‡∏á** (High) = ‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á ‡∏´‡∏£‡∏∑‡∏≠ = 1 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö categorical)
  - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** (Low) = ‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠ = 0 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö categorical)
- **‡πÅ‡∏Å‡∏ô X** = SHAP value
  - **‡∏ö‡∏ß‡∏Å** (+) = ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
  - **‡∏•‡∏ö** (-) = ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn
- **‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Y** = feature ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏™‡∏∏‡∏î

**Top 10 Features ‡πÅ‡∏•‡∏∞ Patterns:**

1. **NumOfProducts:**

   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (1 product)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn**
   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (3-4 products)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å‡∏°‡∏≤‡∏Å ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏°‡∏≤‡∏Å!**
   - **Sweet spot: 2 products** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - üí° **Insight:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product ‡∏´‡∏£‡∏∑‡∏≠ 3-4 products ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Churn ‡∏™‡∏π‡∏á!

2. **IsActiveMember:**

   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (‡πÑ‡∏°‡πà Active)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å‡∏°‡∏≤‡∏Å ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏° Churn ‡∏°‡∏≤‡∏Å!**
   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Active)** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - üí° **Insight:** ‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà Active ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!

3. **Balance:**

   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Balance ‡∏™‡∏π‡∏á)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Balance ‡∏ï‡πà‡∏≥)** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - üí° **Insight:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà Active ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á

4. **Tenure:**

   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Tenure ‡∏™‡∏π‡∏á)** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Tenure ‡∏ï‡πà‡∏≥)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - üí° **Insight:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤

5. **Age:**

   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢)** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - üí° **Insight:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å (50+) ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Churn ‡∏™‡∏π‡∏á

6. **Geography:**

   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Germany = 1)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (France = 0)** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - üí° **Insight:** ‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏≠‡∏∑‡πà‡∏ô

7. **Gender:**

   - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Male = 1)** ‚Üí SHAP value ‡∏•‡∏ö ‚Üí ‡∏•‡∏î Churn
   - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Female = 0)** ‚Üí SHAP value ‡∏ö‡∏ß‡∏Å ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - üí° **Insight:** ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

8. **EstimatedSalary:**

   - ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏ö‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡∏•‡∏ö ‚Üí ‡πÑ‡∏°‡πà‡∏°‡∏µ pattern ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
   - üí° **Insight:** EstimatedSalary ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ Churn

9. **HasCrCard:**

   - ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

10. **CreditScore:**
    - ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ô‡πâ‡∏≠‡∏¢ ‚Üí ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**üí° Key Insights:**

1. **Top 3 Risk Factors:**

   - ‚ùå **‡πÑ‡∏°‡πà Active** (IsActiveMember = 0)
   - ‚ùå **‡∏°‡∏µ 1 product ‡∏´‡∏£‡∏∑‡∏≠ 3-4 products**
   - ‚ùå **Balance ‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà Active**

2. **Protective Factors:**

   - ‚úÖ **Active Member**
   - ‚úÖ **‡∏°‡∏µ 2 products**
   - ‚úÖ **Tenure ‡∏™‡∏π‡∏á** (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Å‡πà‡∏≤)
   - ‚úÖ **‡∏≠‡∏≤‡∏¢‡∏∏‡∏ô‡πâ‡∏≠‡∏¢** (<40)

3. **Geographic Risk:**
   - üá©üá™ ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô ‚Üí Churn ‡∏™‡∏π‡∏á
   - üá´üá∑ ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ ‚Üí Churn ‡∏ï‡πà‡∏≥

---

##### 5. SHAP Dependence Plot - NumOfProducts

<img src="../plots/run_4/shap_dependence_top.png" alt="SHAP Dependence Plot - NumOfProducts" width="600">

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü:**

- **‡πÅ‡∏Å‡∏ô X** = NumOfProducts (1, 2, 3, 4)
- **‡πÅ‡∏Å‡∏ô Y** = SHAP value ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö NumOfProducts
  - ‡∏Ñ‡πà‡∏≤‡∏ö‡∏ß‡∏Å = ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
  - ‡∏Ñ‡πà‡∏≤‡∏•‡∏ö = ‡∏•‡∏î Churn
- **‡∏™‡∏µ** = Gender (interaction feature)
  - **‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** (0.000) = Female
  - **‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π/‡∏°‡πà‡∏ß‡∏á** (1.333, 2.000) = Male

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ:**

**Pattern ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:**

1. **NumOfProducts = 1:**

   - SHAP value ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 0 ‡∏ñ‡∏∂‡∏á +1
   - ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢**
   - ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Female) ‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Male)

2. **NumOfProducts = 2:**

   - SHAP value ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á -2 ‡∏ñ‡∏∂‡∏á 0
   - ‚Üí **‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏°‡∏≤‡∏Å!** ‚úÖ
   - **Sweet Spot:** ‡∏°‡∏µ 2 products = Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   - ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Female) ‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Male)

3. **NumOfProducts = 3:**

   - SHAP value ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á +1 ‡∏ñ‡∏∂‡∏á +4
   - ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏°‡∏≤‡∏Å!** ‚ùå
   - ‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Male) ‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (Female)

4. **NumOfProducts = 4:**
   - SHAP value ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á +4 ‡∏ñ‡∏∂‡∏á +4.5
   - ‚Üí **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!** ‚ùå‚ùå
   - ‡∏°‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏µ‡πà‡∏à‡∏∏‡∏î (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 4 products ‡∏ô‡πâ‡∏≠‡∏¢)
   - ‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π (Male)

**üí° Insights ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **U-Shaped Relationship:**

   - NumOfProducts ‡∏ô‡πâ‡∏≠‡∏¢ (1) ‚Üí Churn ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
   - NumOfProducts ‡∏û‡∏≠‡∏î‡∏µ (2) ‚Üí **Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** ‚úÖ
   - NumOfProducts ‡∏°‡∏≤‡∏Å (3-4) ‚Üí **Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å** ‚ùå

2. **‡∏ó‡∏≥‡πÑ‡∏° 3-4 products ‡∏ñ‡∏∂‡∏á Churn ‡∏™‡∏π‡∏á?**

   - ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠ products ‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
   - ‚Üí **‡∏ï‡πâ‡∏≠‡∏á review product portfolio!**

3. **Interaction Effect (Gender):**

   - **‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô pattern ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô** ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Male ‡πÅ‡∏•‡∏∞ Female
   - ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏û‡∏®‡∏°‡∏µ pattern ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô
   - ‚Üí Gender ‡πÑ‡∏°‡πà‡∏°‡∏µ interaction ‡∏Å‡∏±‡∏ö NumOfProducts ‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å

4. **Actionable Insights:**
   - üéØ **Cross-sell ‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product ‚Üí 2 products**
   - ‚ö†Ô∏è **Review ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products** - ‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á Churn ‡∏™‡∏π‡∏á?
   - ‚úÖ **Sweet Spot: 2 products** - ‡∏Ñ‡∏ß‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ

---

##### 6. SHAP Waterfall Plot - Non-Churned Customer (Sample 0)

<img src="../plots/run_4/shap_waterfall_sample0.png" alt="SHAP Waterfall - Sample 0" width="600">

**SHAP Waterfall Plot ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 1 ‡∏Ñ‡∏ô** ‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤ **feature ‡πÑ‡∏´‡∏ô‡∏ú‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ Churn ‡∏´‡∏£‡∏∑‡∏≠ Not Churn** ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°" ‡∏ß‡πà‡∏≤ prediction ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏à‡∏≤‡∏Å base value ‚Üí final value

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡πà‡∏≤‡∏ô Waterfall Plot:**

1. **E[f(X)] = Base value** (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)

   - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏ä‡∏∏‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
   - ‡πÉ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ: **E[f(X)] = -0.002** (‚âà 0%)

2. **‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô** (‚Üê) = **‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn** (SHAP value ‡∏•‡∏ö)

   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `IsActiveMember = 1` ‚Üí **-1.41**

3. **‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡πÅ‡∏î‡∏á/‡∏ä‡∏°‡∏û‡∏π** (‚Üí) = **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Churn** (SHAP value ‡∏ö‡∏ß‡∏Å)

   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `Balance = 4` ‚Üí **+1.16**

4. **f(x) = Final value** (prediction ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢)
   - ‡πÉ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ: **f(x) = -1.583** ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **‡πÑ‡∏°‡πà Churn** ‚úÖ

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü Sample 0:**

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:**

- IsActiveMember = 1 (Active) ‚úÖ
- NumOfProducts = 2 (Sweet Spot!) ‚úÖ
- Balance = 4 (‡∏™‡∏π‡∏á)
- Geography = 2 (Spain)
- Tenure = 0 (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà)
- EstimatedSalary = 101,515.76

**Features ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn:**

1. **IsActiveMember = 1** (-1.41) - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**
2. **NumOfProducts = 2** (-1.10) - **Sweet Spot!**
3. **Geography = 2 (Spain)** (-0.38)
4. **HasCrCard = 1** (-0.23)
5. **Gender = 0 (Female)** (-0.15)
6. **Age = 0** (-0.05)

**Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**

1. **Balance = 4** (+1.16) - Balance ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
2. **Tenure = 0** (+0.35) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
3. **CreditScore = 1** (+0.19)
4. **EstimatedSalary** (+0.05)

**üéØ ‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **‡πÑ‡∏°‡πà Churn** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ **Active + ‡∏°‡∏µ 2 products** (protective factors ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏°‡∏≤‡∏Å!)

---

##### 7. SHAP Waterfall Plot - Churned Customer (Sample 8)

<img src="../plots/run_4/shap_waterfall_churn.png" alt="SHAP Waterfall - Churned Customer" width="600">

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü Sample 8:**

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:**

- **IsActiveMember = 0** (‡πÑ‡∏°‡πà Active) ‚ùå
- **NumOfProducts = 1** (‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ) ‚ùå
- **Balance = 3** (‡∏™‡∏π‡∏á)
- **Tenure = 0** (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà) ‚ùå
- **Geography = 2** (Spain)
- **CreditScore = 7** (‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å)
- **EstimatedSalary = 19,632.64** (‡∏ï‡πà‡∏≥)

**Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**

1. **NumOfProducts = 1** (+0.71) - **‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1!**
2. **Balance = 3** (+0.67) - **‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2!**
3. **IsActiveMember = 0** (+0.54) - **‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 3!**
4. **Tenure = 0** (+0.39) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
5. **EstimatedSalary = 19,632.64** (+0.18) - ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ï‡πà‡∏≥
6. **Gender = 0 (Female)** (+0.07)

**Features ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠):**

1. **CreditScore = 7** (-0.75) - ‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏û‡∏≠!
2. **Geography = 2 (Spain)** (-0.33)
3. **Age = 0** (-0.08)
4. **HasCrCard = 1** (-0.07)

**Final value: f(x) = +1.324** ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **Churn** ‚ùå

**üéØ ‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **Churn** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ **‡πÑ‡∏°‡πà Active + ‡∏°‡∏µ 1 product + ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà** (‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤ protective factors)

---

**üîç ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Sample 0 vs Sample 8:**

| Feature            | Sample 0 (‡πÑ‡∏°‡πà Churn) | Sample 8 (Churn)       | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á                                        |
| ------------------ | -------------------- | ---------------------- | -------------------------------------------------- |
| **IsActiveMember** | 1 (Active) ‚Üí -1.41   | 0 (‡πÑ‡∏°‡πà Active) ‚Üí +0.54 | **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ~2.0** - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!                    |
| **NumOfProducts**  | 2 ‚Üí -1.10            | 1 ‚Üí +0.71              | **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ~1.8** - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!                       |
| **Balance**        | 4 ‚Üí +1.16            | 3 ‚Üí +0.67              | ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn (Balance ‡∏™‡∏π‡∏á = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á)          |
| **Tenure**         | 0 ‚Üí +0.35            | 0 ‚Üí +0.39              | ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á)                     |
| **CreditScore**    | 1 ‚Üí +0.19            | 7 ‚Üí -0.75              | Sample 8 ‡∏°‡∏µ Credit Score ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏¢‡∏±‡∏á Churn! |

**üí° Key Takeaway:**

1. **IsActiveMember ‡πÅ‡∏•‡∏∞ NumOfProducts ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**

   - Sample 0: Active + 2 Products ‚Üí ‡πÑ‡∏°‡πà Churn ‚úÖ
   - Sample 8: ‡πÑ‡∏°‡πà Active + 1 Product ‚Üí Churn ‚ùå

2. **Credit Score ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å:**

   - Sample 8 ‡∏°‡∏µ Credit Score ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Sample 0 ‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏¢‡∏±‡∏á Churn

3. **Balance ‡∏™‡∏π‡∏á = ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:**

   - ‡∏ó‡∏±‡πâ‡∏á 2 samples ‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - ‡πÅ‡∏ï‡πà Sample 0 ‡∏£‡∏≠‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Active + 2 Products

4. **Tenure ‡∏ï‡πà‡∏≥ (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà) = ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:**
   - ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ onboarding program!

**üéØ Actionable Insights:**

1. **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©:**

   - ‡πÄ‡∏û‡∏¥‡πà‡∏° engagement ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å
   - Cross-sell ‡πÉ‡∏´‡πâ‡∏°‡∏µ 2 products ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 3-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å

2. **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 Product + ‡πÑ‡∏°‡πà Active = ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:**

   - ‡∏™‡πà‡∏á alert ‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏° retention
   - ‡πÄ‡∏™‡∏ô‡∏≠ incentive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ product ‡∏ó‡∏µ‡πà 2

3. **Sweet Spot: Active + 2 Products** = Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

---

#### üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å Visualizations

**üéØ ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ Churn (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**

1. **‡πÑ‡∏°‡πà Active** (IsActiveMember = 0) - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
2. **‡∏°‡∏µ 3-4 Products** - Churn ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
3. **‡∏°‡∏µ 1 Product** - Churn ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
4. **Balance ‡∏™‡∏π‡∏á** - ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà Active
5. **Tenure ‡∏ï‡πà‡∏≥** (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà)
6. **‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏≤‡∏Å** (50+)
7. **‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô**
8. **‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á** (‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)

**üí° Actionable Insights ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:**

1. **‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:**

   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà **‡πÑ‡∏°‡πà Active + ‡∏°‡∏µ 3-4 products**
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà **‡πÑ‡∏°‡πà Active + Balance ‡∏™‡∏π‡∏á**
   - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà (Tenure ‡∏ï‡πà‡∏≥) + ‡∏°‡∏µ 1 product

2. **‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô:**

   - **‡πÄ‡∏û‡∏¥‡πà‡∏° Engagement:** ‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡πà‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô (IsActiveMember)
   - **Product Optimization:**
     - Cross-sell ‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 product ‚Üí 2 products
     - Review ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 3-4 products - ‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á Churn?
     - ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏´‡∏£‡∏∑‡∏≠ products ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå
   - **Balance Management:** ‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©
   - **Onboarding Program:** ‡∏î‡∏π‡πÅ‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏ä‡πà‡∏ß‡∏á Tenure ‡∏ï‡πâ‡∏ô‡πÜ

3. **Sweet Spot:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ **2 Products + Active** = **Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** ‚úÖ

4. **Geographic Strategy:**
   - ‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏© - ‡∏ó‡∏≥‡πÑ‡∏° Churn ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡∏≠‡∏∑‡πà‡∏ô?
   - ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏≤‡∏Å‡∏ï‡∏•‡∏≤‡∏î‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ - ‡∏ó‡∏≥‡πÑ‡∏° Churn ‡∏ï‡πà‡∏≥?

---

#### Next Steps & Recommendations

**‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å Training:**

ADASYN **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á** performance ‡πÅ‡∏•‡∏∞‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡∏≠‡∏µ‡∏Å:

- ROC-AUC = 0.8106 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡∏ó‡∏µ‡πà 0.8170)
- Recall = 0.6013 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡∏ó‡∏µ‡πà 0.6144)
- ‡∏°‡∏µ overfitting ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (CV = 0.91, Test = 0.81)

**‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ADASYN ‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ:**

1. **Performance ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ Class Weights ‡∏ó‡∏∏‡∏Å metrics:**

   - Recall ‡∏•‡∏î‡∏•‡∏á 12.8% (‡∏à‡∏≤‡∏Å 68.95% ‚Üí 60.13%)
   - ROC-AUC ‡∏•‡∏î‡∏•‡∏á 3.3% (‡∏à‡∏≤‡∏Å 83.79% ‚Üí 81.06%)

2. **Overfitting ‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á:**

   - CV scores ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà Test scores ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å
   - Recall variance ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å (¬±0.1363)

3. **ADASYN ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ SMOTE:**
   - ‡∏ó‡∏∏‡∏Å metrics ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ SMOTE
   - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

**‚úÖ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Run #2 (Class Weights) ‡πÄ‡∏õ‡πá‡∏ô Final Model:**

- ‚úÖ ROC-AUC ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (0.8379)
- ‚úÖ Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (0.6895) - ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 70%
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ overfitting
- ‚úÖ Feature importance ‡∏™‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏°‡∏ú‡∏•
- ‚úÖ Model stable ‡πÅ‡∏•‡∏∞ reliable

**üîÑ ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏•‡∏≠‡∏á (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°):**

1. **Threshold Tuning (Run #2)** - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô

   - ‡∏õ‡∏£‡∏±‡∏ö threshold ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Recall ‡πÉ‡∏´‡πâ‡∏ñ‡∏∂‡∏á 70%
   - ‡∏´‡∏£‡∏∑‡∏≠ balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall

2. **Hyperparameter Tuning (Run #2)**

   - Fine-tune XGBoost parameters
   - ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏° ROC-AUC ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å 1-2%

3. **Feature Engineering**
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á interaction features
   - ‡∏≠‡∏≤‡∏à‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏° performance ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

**‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**

- ‚ùå Hybrid approaches (SMOTETomek, SMOTEENN) - ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ Class Weights
- ‚ùå Focal Loss - ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤
- ‚ùå Synthetic sampling ‡∏≠‡∏∑‡πà‡∏ô‡πÜ - ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ

---

#### Plots

**All visualizations saved in:** `plots/run_4/`

- ‚úÖ `feature_importance_lr.png` - Feature Importance (Logistic Regression)
- ‚úÖ `feature_importance_xgb.png` - Feature Importance (XGBoost)
- ‚úÖ `shap_summary.png` - SHAP Summary Plot
- ‚úÖ `shap_bar.png` - SHAP Feature Importance
- ‚úÖ `shap_waterfall_sample0.png` - SHAP Waterfall (Sample 0)
- ‚úÖ `shap_waterfall_churn.png` - SHAP Waterfall (Churned Customer)
- ‚úÖ `shap_dependence_top.png` - SHAP Dependence Plot (NumOfProducts)

---

### Run #5 - 2025-12-15 (SMOTETomek Resampling)

#### Configuration

**Key Change:** ‡πÉ‡∏ä‡πâ SMOTETomek (Hybrid: Over-sampling + Under-sampling) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ class imbalance

- **Logistic Regression:**

  - Preprocessing: `FixedBinnerForLR` + `OneHotEncoder`
  - Features: 25 features (binned + one-hot encoded)
  - **Resampling: SMOTETomek** - SMOTE (over-sampling) + Tomek Links (under-sampling)
  - `class_weight: 'balanced'`
  - `max_iter: 1000`
  - `solver: 'lbfgs'`

- **XGBoost:**

  - Preprocessing: `FixedBinnerForXGBoost` + `Label Encoding`
  - Features: 10 features (binned + label encoded)
  - **Resampling: SMOTETomek** - hybrid approach
  - `n_estimators: 100`
  - `max_depth: 6`
  - `learning_rate: 0.1`
  - `scale_pos_weight: 1.0000` (‡πÄ‡∏û‡∏£‡∏≤‡∏∞ SMOTETomek ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡πâ‡∏ß)

- **Cross-Validation:** 5-Fold
- **Threshold:** 0.5 (default)

#### Imbalance Handling Strategy

**‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:** SMOTETomek (Hybrid Approach)

**SMOTETomek = SMOTE + Tomek Links:**

1. **SMOTE (Over-sampling):**

   - ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö minority class
   - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏î‡∏∏‡∏•

2. **Tomek Links (Under-sampling):**
   - ‡∏•‡∏ö samples ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô decision boundary (noisy samples)
   - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ decision boundary ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**

- ‚úÖ ‡πÑ‡∏î‡πâ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á over-sampling ‡πÅ‡∏•‡∏∞ under-sampling
- ‚úÖ ‡∏•‡∏î noise ‡∏à‡∏≤‡∏Å majority class
- ‚úÖ Dataset ‡∏ó‡∏µ‡πà clean ‡∏Å‡∏ß‡πà‡∏≤ pure SMOTE

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**

- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå
- ‚ö†Ô∏è ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤ pure over-sampling

**‡∏Å‡πà‡∏≠‡∏ô SMOTETomek:**

- Class 0 (‡πÑ‡∏°‡πà Churn): **5,574** samples
- Class 1 (Churn): **1,426** samples
- **‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô**: ~4:1 (‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•)

**‡∏´‡∏•‡∏±‡∏á SMOTETomek (XGBoost):**

- Class 0 (‡πÑ‡∏°‡πà Churn): **4,227** samples (‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å 5,574)
- Class 1 (Churn): **4,227** samples (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 1,426)
- **‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô**: 1:1 (‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÅ‡∏•‡πâ‡∏ß! ‚úÖ)
- **Total samples**: ‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å 7,000 ‚Üí **8,454** samples

**‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:** Tomek Links ‡∏•‡∏ö majority class samples ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô noise ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ (‡∏à‡∏≤‡∏Å 5,574 ‚Üí 4,227)

#### Results (Test Set)

| Model               | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ------------------- | ---------- | ---------- | ---------- | ---------- | ---------- |
| Logistic Regression | 0.6980     | 0.3708     | 0.6895     | 0.4823     | 0.7600     |
| **XGBoost**         | **0.8033** | **0.5153** | **0.6046** | **0.5564** | **0.8121** |

#### Cross-Validation Results

**Logistic Regression:**

- Accuracy: 0.7047 (+/- 0.0069) ‚úÖ Very Stable
- Precision: 0.7090 (+/- 0.0100) ‚úÖ Stable
- Recall: 0.6950 (+/- 0.0163) ‚úÖ Stable
- F1: 0.7017 (+/- 0.0080) ‚úÖ Very Stable
- ROC-AUC: 0.7753 (+/- 0.0047) ‚úÖ Very Stable

**XGBoost:**

- Accuracy: 0.8319 (+/- 0.0672) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á
- Precision: 0.8373 (+/- 0.0228) ‚úÖ Stable
- Recall: 0.8192 (+/- 0.1430) ‚ùå ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å (overfitting!)
- F1: 0.8227 (+/- 0.0915) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á
- ROC-AUC: 0.9084 (+/- 0.0589) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡∏™‡∏π‡∏á

**‚ö†Ô∏è ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:** XGBoost ‡∏°‡∏µ CV scores ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà Test scores ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å ‚Üí **‡∏°‡∏µ overfitting!**

#### Comparison with Run #2, #3, #4

**XGBoost Performance:**

| Metric        | Run #2 (Class Weights) | Run #3 (SMOTE) | Run #4 (ADASYN) | Run #5 (SMOTETomek) | vs Run #2     | vs Best |
| ------------- | ---------------------- | -------------- | --------------- | ------------------- | ------------- | ------- |
| **Accuracy**  | **0.7880**             | 0.8020         | 0.7980          | 0.8033              | **+1.9%** ‚úÖ  | #5      |
| **Precision** | **0.4862**             | 0.5123         | 0.5041          | 0.5153              | **+6.0%** ‚úÖ  | #5      |
| **Recall**    | **0.6895**             | 0.6144         | 0.6013          | 0.6046              | **-12.3%** ‚ùå | #2      |
| **F1**        | **0.5703**             | 0.5587         | 0.5484          | 0.5564              | **-2.4%** ‚ùå  | #2      |
| **ROC-AUC**   | **0.8379**             | 0.8170         | 0.8106          | 0.8121              | **-3.1%** ‚ùå  | #2      |

#### Observations & Insights

**‚ùå SMOTETomek ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Performance - ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ Class Weights!**

**1. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Run #2 (Class Weights) - Baseline ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:**

- ‚úÖ **Accuracy ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (+1.9%, ‡∏à‡∏≤‡∏Å 78.80% ‚Üí 80.33%)
- ‚úÖ **Precision ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô** (+6.0%, ‡∏à‡∏≤‡∏Å 48.62% ‚Üí 51.53%) - **‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å Runs!**
- ‚ùå **Recall ‡∏•‡∏î‡∏•‡∏á‡∏°‡∏≤‡∏Å** (-12.3%, ‡∏à‡∏≤‡∏Å 68.95% ‚Üí 60.46%) - **‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏ç‡πà!**
- ‚ùå **F1 ‡∏•‡∏î‡∏•‡∏á** (-2.4%, ‡∏à‡∏≤‡∏Å 57.03% ‚Üí 55.64%)
- ‚ùå **ROC-AUC ‡∏•‡∏î‡∏•‡∏á** (-3.1%, ‡∏à‡∏≤‡∏Å 83.79% ‚Üí 81.21%)

**2. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö SMOTE (Run #3) ‡πÅ‡∏•‡∏∞ ADASYN (Run #4):**

- ‚úÖ **Precision ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** (51.53% vs 51.23% vs 50.41%)
- ‚ö†Ô∏è **Recall ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (60.46% vs 61.44%)
- ‚ö†Ô∏è **ROC-AUC ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢** (81.21% vs 81.70%)

**üîç ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà SMOTETomek ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•:**

1. **Overfitting ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô:**

   - CV ROC-AUC = 0.9084 (‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å!)
   - Test ROC-AUC = 0.8121 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å)
   - **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ~9.6%** ‚Üí Model overfit ‡∏Å‡∏±‡∏ö training data

2. **Recall Variance ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å:**

   - CV Recall = 0.8192 ¬± **0.1430** (std ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)
   - ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ model ‡πÑ‡∏°‡πà stable ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å Runs

3. **Tomek Links ‡∏≠‡∏≤‡∏à‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:**

   - ‡∏•‡∏ö majority class ‡∏à‡∏≤‡∏Å 5,574 ‚Üí 4,227 (‡∏•‡∏î‡∏•‡∏á 24%)
   - ‡∏≠‡∏≤‡∏à‡∏•‡∏ö samples ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ decision boundary ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå

4. **‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡∏±‡∏ö Synthetic Sampling:**
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic samples ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á
   - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ model ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ pattern ‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î

**üí° Key Insights:**

1. **SMOTETomek ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ SMOTE ‡πÅ‡∏•‡∏∞ ADASYN ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢:**

   - Precision ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (51.53%)
   - ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ Class Weights ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å metrics ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

2. **Precision ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏ï‡πà Recall ‡∏•‡∏î‡∏•‡∏á:**

   - Trade-off ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤
   - ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠ Recall ‡∏™‡∏π‡∏á (‡∏à‡∏±‡∏ö Churn ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)

3. **Hybrid Approach ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Overfitting:**

   - ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏°‡∏µ overfitting ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô SMOTE ‡πÅ‡∏•‡∏∞ ADASYN
   - Recall variance ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å Runs

4. **Class Weights (Run #2) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:**
   - ROC-AUC = 0.8379 (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
   - Recall = 0.6895 (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ overfitting

**üìä Ranking ‡∏Ç‡∏≠‡∏á Runs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï):**

| Rank | Run | Method        | ROC-AUC    | Recall     | F1         | Precision  | Overfitting?   |
| ---- | --- | ------------- | ---------- | ---------- | ---------- | ---------- | -------------- |
| ü•á 1 | #2  | Class Weights | **0.8379** | **0.6895** | **0.5703** | 0.4862     | ‚ùå No          |
| ü•à 2 | #3  | SMOTE         | 0.8170     | 0.6144     | 0.5587     | 0.5123     | ‚ö†Ô∏è Yes         |
| ü•â 3 | #5  | SMOTETomek    | 0.8121     | 0.6046     | 0.5564     | **0.5153** | ‚ö†Ô∏è Yes         |
| 4    | #4  | ADASYN        | 0.8106     | 0.6013     | 0.5484     | 0.5041     | ‚ö†Ô∏è Yes (worst) |
| 5    | #1  | Baseline      | 0.7279     | 0.6144     | 0.4460     | 0.3501     | ‚ùå No          |

**üéØ ‡∏™‡∏£‡∏∏‡∏õ:**

- **Run #2 (Class Weights) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ä‡∏ô‡∏∞‡∏ó‡∏∏‡∏Å‡∏î‡πâ‡∏≤‡∏ô!**
- **SMOTETomek ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° Synthetic Sampling (Precision ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)**
- **‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ Class Weights ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å metrics ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**
- **Hybrid approach ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ overfitting**
- **‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ Run #2 ‡πÄ‡∏õ‡πá‡∏ô final model**

---

#### Next Steps & Recommendations

**‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å Training:**

SMOTETomek **‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° Synthetic Sampling** ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ Class Weights:

- Precision = 0.5153 (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!)
- ‡πÅ‡∏ï‡πà Recall = 0.6046 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ Class Weights ‡∏°‡∏≤‡∏Å)
- ROC-AUC = 0.8121 (‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ Class Weights)
- ‡∏°‡∏µ overfitting (CV = 0.91, Test = 0.81)

**‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ SMOTETomek ‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ:**

1. **Recall ‡∏•‡∏î‡∏•‡∏á‡∏°‡∏≤‡∏Å (-12.3%):**

   - ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏à‡∏±‡∏ö Churn ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   - SMOTETomek ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Recall ‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å 68.95% ‚Üí 60.46%

2. **Overfitting ‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á:**

   - Recall variance ‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (¬±0.1430)
   - Model ‡πÑ‡∏°‡πà stable

3. **Tomek Links ‡∏≠‡∏≤‡∏à‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:**
   - ‡∏•‡∏ö 24% ‡∏Ç‡∏≠‡∏á majority class
   - ‡∏≠‡∏≤‡∏à‡∏•‡∏ö samples ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

**‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Synthetic Sampling ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:**

| Method            | ROC-AUC    | Recall     | Precision  | Ranking     |
| ----------------- | ---------- | ---------- | ---------- | ----------- |
| **Class Weights** | **0.8379** | **0.6895** | 0.4862     | ü•á **Best** |
| SMOTE             | 0.8170     | 0.6144     | 0.5123     | ü•à 2nd      |
| SMOTETomek        | 0.8121     | 0.6046     | **0.5153** | ü•â 3rd      |
| ADASYN            | 0.8106     | 0.6013     | 0.5041     | 4th         |

**üí° ‡∏Ç‡πâ‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

1. **Class Weights ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏î‡πâ‡∏≤‡∏ô**
2. **Synthetic Sampling ‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á overfitting**
3. **Hybrid approach ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤**
4. **Precision ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏ï‡πà Recall ‡∏•‡∏î‡∏•‡∏á (trade-off ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤)**

**‚úÖ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Run #2 (Class Weights) ‡πÄ‡∏õ‡πá‡∏ô Final Model:**

- ‚úÖ ROC-AUC ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (0.8379)
- ‚úÖ Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (0.6895) - ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 70%
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ overfitting
- ‚úÖ Model stable ‡πÅ‡∏•‡∏∞ reliable
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á synthetic data

**üîÑ ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°):**

1. **Threshold Tuning (Run #2)** - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô

   - ‡∏õ‡∏£‡∏±‡∏ö threshold ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Recall ‡πÉ‡∏´‡πâ‡∏ñ‡∏∂‡∏á 70%

2. **Hyperparameter Tuning (Run #2)**

   - Fine-tune XGBoost parameters

3. **Feature Engineering**
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á interaction features

**‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**

- ‚ùå SMOTEENN - ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ SMOTETomek
- ‚ùå Focal Loss - ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤
- ‚ùå Synthetic sampling ‡∏≠‡∏∑‡πà‡∏ô‡πÜ - ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ

---

#### SHAP Waterfall Plots Analysis

##### SHAP Waterfall Plot - Non-Churned Customer (Sample 0)

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü Sample 0:**

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:**

- **IsActiveMember = 1** (Active) ‚úÖ
- **NumOfProducts = 2** (Sweet Spot!) ‚úÖ
- **Balance = 4** (‡∏™‡∏π‡∏á)
- **Geography = 2** (Spain)
- **Tenure = 0** (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà)
- **EstimatedSalary = 101,515.76**

**Features ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn:**

1. **IsActiveMember = 1** (-1.48) - **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**
2. **NumOfProducts = 2** (-0.90) - **Sweet Spot!**
3. **Geography = 2 (Spain)** (-0.32)
4. **HasCrCard = 1** (-0.27)
5. **EstimatedSalary** (-0.25)
6. **Gender = 0 (Female)** (-0.19)

**Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**

1. **Balance = 4** (+1.10) - Balance ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
2. **Tenure = 0** (+0.41) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
3. **CreditScore = 1** (+0.21)
4. **Age = 0** (+0.02)

**Final value: f(x) = -1.659** ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **‡πÑ‡∏°‡πà Churn** ‚úÖ

**üéØ ‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **‡πÑ‡∏°‡πà Churn** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ **Active + ‡∏°‡∏µ 2 products** (protective factors ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏°‡∏≤‡∏Å!)

---

##### SHAP Waterfall Plot - Churned Customer (Sample 8)

**üìñ ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü Sample 8:**

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:**

- **IsActiveMember = 0** (‡πÑ‡∏°‡πà Active) ‚ùå
- **NumOfProducts = 1** (‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ) ‚ùå
- **Balance = 3** (‡∏™‡∏π‡∏á)
- **Tenure = 0** (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà) ‚ùå
- **Geography = 2** (Spain)
- **CreditScore = 7** (‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å)
- **EstimatedSalary = 19,632.64** (‡∏ï‡πà‡∏≥)

**Features ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn:**

1. **NumOfProducts = 1** (+0.73) - **‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1!**
2. **Balance = 3** (+0.63) - **‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 2!**
3. **IsActiveMember = 0** (+0.54) - **‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 3!**
4. **Tenure = 0** (+0.38) - ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
5. **EstimatedSalary = 19,632.64** (+0.33) - ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ï‡πà‡∏≥
6. **Gender = 0 (Female)** (+0.07)
7. **HasCrCard = 1** (+0.01)

**Features ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î Churn (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠):**

1. **CreditScore = 7** (-0.74) - ‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏û‡∏≠!
2. **Geography = 2 (Spain)** (-0.37)
3. **Age = 0** (-0.09)

**Final value: f(x) = +1.484** ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ **Churn** ‚ùå

**üéØ ‡∏™‡∏£‡∏∏‡∏õ:** ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ **Churn** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ **‡πÑ‡∏°‡πà Active + ‡∏°‡∏µ 1 product + ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà** (‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á 3 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÅ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤ protective factors)

---

**üîç ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Sample 0 vs Sample 8:**

| Feature            | Sample 0 (‡πÑ‡∏°‡πà Churn) | Sample 8 (Churn)       | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á                                        |
| ------------------ | -------------------- | ---------------------- | -------------------------------------------------- |
| **IsActiveMember** | 1 (Active) ‚Üí -1.48   | 0 (‡πÑ‡∏°‡πà Active) ‚Üí +0.54 | **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ~2.0** - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!                    |
| **NumOfProducts**  | 2 ‚Üí -0.90            | 1 ‚Üí +0.73              | **‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ~1.6** - ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!                       |
| **Balance**        | 4 ‚Üí +1.10            | 3 ‚Üí +0.63              | ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° Churn (Balance ‡∏™‡∏π‡∏á = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á)          |
| **Tenure**         | 0 ‚Üí +0.41            | 0 ‚Üí +0.38              | ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á)                     |
| **CreditScore**    | 1 ‚Üí +0.21            | 7 ‚Üí -0.74              | Sample 8 ‡∏°‡∏µ Credit Score ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏¢‡∏±‡∏á Churn! |

**üí° Key Takeaway:**

1. **IsActiveMember ‡πÅ‡∏•‡∏∞ NumOfProducts ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!**

   - Sample 0: Active + 2 Products ‚Üí ‡πÑ‡∏°‡πà Churn ‚úÖ
   - Sample 8: ‡πÑ‡∏°‡πà Active + 1 Product ‚Üí Churn ‚ùå

2. **Credit Score ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å:**

   - Sample 8 ‡∏°‡∏µ Credit Score ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Sample 0 ‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏¢‡∏±‡∏á Churn

3. **Balance ‡∏™‡∏π‡∏á = ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:**

   - ‡∏ó‡∏±‡πâ‡∏á 2 samples ‡∏°‡∏µ Balance ‡∏™‡∏π‡∏á ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏° Churn
   - ‡πÅ‡∏ï‡πà Sample 0 ‡∏£‡∏≠‡∏î‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Active + 2 Products

4. **Tenure ‡∏ï‡πà‡∏≥ (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà) = ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:**
   - ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ onboarding program!

**üéØ Actionable Insights:**

1. **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©:**

   - ‡πÄ‡∏û‡∏¥‡πà‡∏° engagement ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å
   - Cross-sell ‡πÉ‡∏´‡πâ‡∏°‡∏µ 2 products ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 3-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏£‡∏Å

2. **‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ 1 Product + ‡πÑ‡∏°‡πà Active = ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:**

   - ‡∏™‡πà‡∏á alert ‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏° retention
   - ‡πÄ‡∏™‡∏ô‡∏≠ incentive ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ product ‡∏ó‡∏µ‡πà 2

3. **Sweet Spot: Active + 2 Products** = Churn ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

**üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Run #4 (ADASYN):**

Run #5 (SMOTETomek) ‡∏°‡∏µ pattern ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö Run #4 ‡∏°‡∏≤‡∏Å:

- ‚úÖ **IsActiveMember ‡πÅ‡∏•‡∏∞ NumOfProducts ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î**
- ‚úÖ **Credit Score ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏´‡∏•‡∏±‡∏Å**
- ‚úÖ **Balance ‡∏™‡∏π‡∏á = ‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á**
- ‚úÖ **Sweet Spot: 2 Products + Active**

**‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á:**

- Run #5 ‡∏°‡∏µ SHAP values ‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ö Run #4 ‡∏°‡∏≤‡∏Å
- ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ SMOTETomek ‡πÅ‡∏•‡∏∞ ADASYN ‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô
- ‡πÅ‡∏ï‡πà‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡∏¢‡∏±‡∏á‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ Class Weights (Run #2)

---

#### Plots

**All visualizations saved in:** `plots/run_5/`

- ‚úÖ `confusion_matrix_lr.png` - Confusion Matrix (Logistic Regression)
- ‚úÖ `confusion_matrix_xgb.png` - Confusion Matrix (XGBoost)
- ‚úÖ `roc_curves.png` - ROC Curves
- ‚úÖ `precision_recall_curves.png` - Precision-Recall Curves
- ‚úÖ `feature_importance_lr.png` - Feature Importance (Logistic Regression)
- ‚úÖ `feature_importance_xgb.png` - Feature Importance (XGBoost)
- ‚úÖ `shap_summary.png` - SHAP Summary Plot
- ‚úÖ `shap_bar.png` - SHAP Feature Importance
- ‚úÖ `shap_waterfall_sample0.png` - SHAP Waterfall (Sample 0)
- ‚úÖ `shap_waterfall_churn.png` - SHAP Waterfall (Churned Customer)
- ‚úÖ `shap_dependence_top.png` - SHAP Dependence Plot (NumOfProducts)

---

### Run #6 - 2026-01-11 (Cost-Sensitive Learning)

#### Configuration

- **Logistic Regression:**

  - `class_weight: 'balanced'` - ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Run #2
  - `max_iter: 1000`
  - `solver: 'lbfgs'`

- **XGBoost:**

  - `n_estimators: 100`
  - `max_depth: 6`
  - `learning_rate: 0.1`
  - `scale_pos_weight: 3.9088`
  - **`sample_weight`**: ‡πÉ‡∏ä‡πâ cost-sensitive learning ‚ú®
    - Not Churn (0): weight = 1.0
    - Churn (1): weight = 10.0

- **Cross-Validation:** 5-Fold (LR only - XGBoost skip CV ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÉ‡∏ä‡πâ sample_weight)
- **Threshold:** 0.5 (default)

#### Imbalance Handling Strategy

**‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:** Cost-Sensitive Learning

- **Logistic Regression:** `class_weight='balanced'` (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°)
- **XGBoost:** `sample_weight` with `cost_ratio=10.0`

**Cost-Sensitive Learning ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:**

- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î **cost (‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô)** ‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö errors ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
- **False Negative (‡∏û‡∏•‡∏≤‡∏î Churn)** = cost ‡∏™‡∏π‡∏á (10.0)
- **False Positive (‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ Churn ‡∏ú‡∏¥‡∏î)** = cost ‡∏ï‡πà‡∏≥ (1.0)
- Model ‡∏à‡∏∞ **focus ‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏•‡∏î False Negative** ‚Üí **Recall ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô**

**‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡πÉ‡∏ä‡πâ Cost-Sensitive:**

- ‚úÖ ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à (‡∏û‡∏•‡∏≤‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn = ‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å)
- ‚úÖ Flexible - ‡∏õ‡∏£‡∏±‡∏ö cost ratio ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- ‚úÖ ‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å SMOTE)
- ‚úÖ ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ Focal Loss

#### Results (Test Set)

| Model                        | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ---------------------------- | ---------- | ---------- | ---------- | ---------- | ---------- |
| Logistic Regression          | 0.7147     | 0.3887     | 0.6961     | 0.4988     | 0.7621     |
| **XGBoost (Cost-Sensitive)** | **0.5107** | **0.2838** | **0.9183** | **0.4336** | **0.8220** |

#### Cross-Validation Results

**Logistic Regression:**

- Accuracy: 0.7110 (+/- 0.0110) ‚úÖ Stable
- Precision: 0.3813 (+/- 0.0095) ‚úÖ Stable
- Recall: 0.6690 (+/- 0.0234) ‚ö†Ô∏è ‡∏ú‡∏±‡∏ô‡πÅ‡∏õ‡∏£‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
- F1: 0.4854 (+/- 0.0059) ‚úÖ Stable
- ROC-AUC: 0.7626 (+/- 0.0046) ‚úÖ Very Stable

**XGBoost:**

- ‚ö†Ô∏è **Skipped Cross-Validation** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ sklearn's `cross_validate` ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö `sample_weight` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö XGBoost

#### Observations & Insights

**üéØ Cost-Sensitive Learning ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**

1. **Recall ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å (91.83%)** üöÄ

   - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å Run #2: 68.95% ‚Üí 91.83% (+22.88 pp)
   - ‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà Churn ‡πÑ‡∏î‡πâ **281/306 ‡∏Ñ‡∏ô** (‡∏û‡∏•‡∏≤‡∏î‡πÅ‡∏Ñ‡πà 25 ‡∏Ñ‡∏ô!)
   - **‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 70% ‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á 21.83%!**

2. **Precision ‡∏•‡∏î‡∏•‡∏á‡∏°‡∏≤‡∏Å (28.38%)**

   - ‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å Run #2: 48.62% ‚Üí 28.38% (-20.24 pp)
   - False Positive ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å: ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ú‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì **710 ‡∏Ñ‡∏ô**
   - Trade-off ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß

3. **ROC-AUC ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏™‡∏π‡∏á (82.20%)**

   - ‡∏•‡∏î‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏à‡∏≤‡∏Å Run #2: 83.79% ‚Üí 82.20% (-1.59 pp)
   - ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 80%
   - Model ‡∏¢‡∏±‡∏á‡πÅ‡∏¢‡∏Å class ‡πÑ‡∏î‡πâ‡∏î‡∏µ

4. **Accuracy ‡∏ï‡πà‡∏≥ (51.07%)**
   - ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢‡∏™‡∏∏‡πà‡∏° (50%)
   - ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ model bias ‡πÑ‡∏õ‡∏ó‡∏≤‡∏á Churn ‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

**üí° Cost Ratio Experiment:**

‡∏ó‡∏î‡∏™‡∏≠‡∏ö cost ratios ‡∏ï‡πà‡∏≤‡∏á‡πÜ (5, 10, 15, 20, 25) ‡∏û‡∏ö‡∏ß‡πà‡∏≤:

| Cost Ratio         | Accuracy   | Precision  | Recall     | F1         | ROC-AUC    |
| ------------------ | ---------- | ---------- | ---------- | ---------- | ---------- |
| **0.0 (Baseline)** | **78.80%** | **48.62%** | 68.95%     | **57.03%** | **83.79%** |
| 5.0                | 58.87%     | 31.94%     | 89.87%     | 47.13%     | 83.18%     |
| 10.0               | 51.07%     | 28.38%     | 91.83%     | 43.36%     | 82.20%     |
| 15.0               | 46.73%     | 26.81%     | 93.14%     | 41.64%     | 81.99%     |
| **20.0**           | 44.60%     | 26.29%     | **95.10%** | 41.19%     | 82.34%     |
| 25.0               | 42.60%     | 25.38%     | 93.46%     | 39.92%     | 81.57%     |

**Key Findings:**

- ‚úÖ **Cost Ratio 20.0 ‡πÉ‡∏´‡πâ Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (95.10%)**
- ‚úÖ **Baseline (Class Weights) ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å metric**
- ‚ö†Ô∏è ‡∏¢‡∏¥‡πà‡∏á Cost Ratio ‡∏™‡∏π‡∏á ‚Üí Recall ‡πÄ‡∏û‡∏¥‡πà‡∏°, Precision ‡∏•‡∏î

#### Business Impact Analysis

**Scenario: Cost-Sensitive (Cost Ratio = 10.0)**

**Performance:**

- Recall = 0.9183 ‚Üí ‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ **281 ‡∏Ñ‡∏ô** (‡∏à‡∏≤‡∏Å 306 ‡∏Ñ‡∏ô)
- Precision = 0.2838 ‚Üí ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏ß‡πà‡∏≤ Churn **991 ‡∏Ñ‡∏ô** (281 ‡∏ñ‡∏π‡∏Å + 710 ‡∏ú‡∏¥‡∏î)

**‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô Retention Campaign:**

- ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: 991 ‡∏Ñ‡∏ô √ó 500 ‡∏ö‡∏≤‡∏ó = **495,500 ‡∏ö‡∏≤‡∏ó**

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ: 281 √ó 30% = **84 ‡∏Ñ‡∏ô**
- ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ: 84 √ó 100,000 = **8,400,000 ‡∏ö‡∏≤‡∏ó**
- ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 306 - 84 = **222 ‡∏Ñ‡∏ô**
- ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏à‡∏≤‡∏Å Churn: 222 √ó 100,000 = **22,200,000 ‡∏ö‡∏≤‡∏ó**

**‡∏™‡∏£‡∏∏‡∏õ:**

- ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°: 495,500 ‡∏ö‡∏≤‡∏ó
- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ: 8,400,000 ‡∏ö‡∏≤‡∏ó
- ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏à‡∏≤‡∏Å Churn: 22,200,000 ‡∏ö‡∏≤‡∏ó
- **Net Loss: 14,295,500 ‡∏ö‡∏≤‡∏ó**
- **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£: 16,304,500 ‡∏ö‡∏≤‡∏ó** ‚úÖ
- **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Run #2: +3,758,000 ‡∏ö‡∏≤‡∏ó** üéâ

**ROI:**

- ROI = (16,304,500 - 495,500) / 495,500 √ó 100% = **3,192%** üöÄ

**‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö Run #2:**

| Scenario                         | Recall | Precision | ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ (‡∏Ñ‡∏ô) | ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô (‡∏ö‡∏≤‡∏ó) | ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ (‡∏Ñ‡∏ô) | Net Loss (‡∏ö‡∏≤‡∏ó) | ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ (‡∏ö‡∏≤‡∏ó)  |
| -------------------------------- | ------ | --------- | ----------- | ------------ | ------------- | -------------- | ----------------- |
| **Run #2 (Class Weights)**       | 68.95% | 48.62%    | 507         | 253,500      | 64            | 18,053,500     | 12,546,500        |
| **Run #6 (Cost-Sensitive 10.0)** | 91.83% | 28.38%    | 991         | 495,500      | 84            | 14,295,500     | **16,304,500** ‚úÖ |
| **Run #6 (Cost-Sensitive 20.0)** | 95.10% | 26.29%    | 1,107       | 553,500      | 87            | 13,453,500     | **17,146,500** üèÜ |

**üèÜ Winner: Cost Ratio = 20.0**

- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î: **17.15 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó**
- Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: **95.10%** (‡∏û‡∏•‡∏≤‡∏î‡πÅ‡∏Ñ‡πà 15 ‡∏Ñ‡∏ô!)
- ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ 1,107 ‡∏Ñ‡∏ô

#### Next Steps & Recommendations

**‚úÖ ‡∏Ç‡πâ‡∏≠‡∏™‡∏£‡∏∏‡∏õ:**

1. **Cost-Sensitive Learning ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏î‡∏µ‡∏°‡∏≤‡∏Å!**

   - Recall ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 22.88 pp (‡∏à‡∏≤‡∏Å 68.95% ‚Üí 91.83%)
   - ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Baseline 3.76 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó

2. **‡πÅ‡∏ï‡πà Baseline (Run #2) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°:**

   - F1 Score ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (57.03%)
   - ROC-AUC ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (83.79%)
   - ROI ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (5,668%)
   - Balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

3. **Cost-Sensitive ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö:**

   - ‚úÖ ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏µ‡∏° Retention ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà
   - ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Recall ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å (‡∏à‡∏±‡∏ö Churn ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
   - ‚úÖ ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö False Positive ‡∏™‡∏π‡∏á (‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î‡∏Ñ‡∏ô‡πÑ‡∏î‡πâ)

4. **Baseline ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö:**
   - ‚úÖ ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î
   - ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall
   - ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ROI ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

**üéØ ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production:**

- ‡πÉ‡∏ä‡πâ **Baseline (Run #2)** ‡πÄ‡∏õ‡πá‡∏ô default model
- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° **Cost-Sensitive (Ratio 20.0)** ‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö campaign ‡∏û‡∏¥‡πÄ‡∏®‡∏©

**‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:**

1. **Threshold Tuning ‡∏ö‡∏ô Baseline** - ‡πÄ‡∏û‡∏¥‡πà‡∏° Recall ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á retrain
2. **Ensemble** - ‡∏£‡∏ß‡∏° Baseline + Cost-Sensitive
3. **Hyperparameter Tuning** - Fine-tune XGBoost parameters

#### Plots

**All visualizations saved in:** `plots/run_6/`

- ‚úÖ `confusion_matrix_lr.png` - Confusion Matrix (Logistic Regression)
- ‚úÖ `confusion_matrix_xgb.png` - Confusion Matrix (XGBoost)
- ‚úÖ `roc_curves.png` - ROC Curves
- ‚úÖ `precision_recall_curves.png` - Precision-Recall Curves
- ‚úÖ `feature_importance_lr.png` - Feature Importance (Logistic Regression)
- ‚úÖ `feature_importance_xgb.png` - Feature Importance (XGBoost)
- ‚úÖ `shap_summary.png` - SHAP Summary Plot
- ‚úÖ `shap_bar.png` - SHAP Feature Importance
- ‚úÖ `shap_waterfall_sample0.png` - SHAP Waterfall (Sample 0)
- ‚úÖ `shap_waterfall_churn.png` - SHAP Waterfall (Churned Customer)
- ‚úÖ `shap_dependence_top.png` - SHAP Dependence Plot

**Cost Ratio Experiment:**

- ‚úÖ `experiments/run_6_cost_sensitive/cost_ratio_comparison.csv`
- ‚úÖ `experiments/run_6_cost_sensitive/cost_ratio_comparison.png`

---

## ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

### Test Set Performance

| Run | Model                                                       | LR<br>Accuracy | LR<br>Precision | LR<br>Recall | LR<br>F1 | LR<br>ROC-AUC | XGB<br>Accuracy | XGB<br>Precision | XGB<br>Recall | XGB<br>F1  | XGB<br>ROC-AUC |
| --- | ----------------------------------------------------------- | -------------- | --------------- | ------------ | -------- | ------------- | --------------- | ---------------- | ------------- | ---------- | -------------- |
| #1  | Baseline<br>(OneHot for both)                               | 0.7147         | 0.3887          | 0.6961       | 0.4988   | 0.7621        | 0.6887          | 0.3501           | 0.6144        | 0.4460     | 0.7279         |
| #2  | Separate Preprocessing<br>(OneHot for LR, Label for XGB) ‚≠ê | 0.7147         | 0.3887          | 0.6961       | 0.4988   | 0.7621        | **0.7880**      | **0.4862**       | 0.6895        | **0.5703** | **0.8379**     |
| #3  | SMOTE Resampling<br>(OneHot for LR, Label for XGB)          | 0.6980         | 0.3708          | 0.6895       | 0.4823   | 0.7600        | 0.8020          | 0.5123           | 0.6144        | 0.5587     | 0.8170         |
| #4  | ADASYN Resampling<br>(OneHot for LR, Label for XGB)         | 0.6927         | 0.3697          | 0.7190       | 0.4883   | 0.7617        | 0.7980          | 0.5041           | 0.6013        | 0.5484     | 0.8106         |
| #5  | SMOTETomek Resampling<br>(OneHot for LR, Label for XGB)     | 0.6980         | 0.3708          | 0.6895       | 0.4823   | 0.7600        | 0.8033          | 0.5153           | 0.6046        | 0.5564     | 0.8121         |
| #6  | Cost-Sensitive Learning<br>(cost_ratio=10.0) üéØ             | 0.7147         | 0.3887          | 0.6961       | 0.4988   | 0.7621        | 0.5107          | 0.2838           | **0.9183**    | 0.4336     | 0.8220         |

**Key Takeaways:**

1. **Run #2 (Class Weights) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°!**

   - XGBoost: ROC-AUC = 0.8379, F1 = 0.5703, Recall = 0.6895
   - Balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
   - ROI ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (5,668%)

2. **Run #6 (Cost-Sensitive) ‡πÉ‡∏´‡πâ Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!** üöÄ

   - XGBoost: Recall = **0.9183** (+22.88 pp ‡∏à‡∏≤‡∏Å Run #2)
   - ‡∏à‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Churn ‡πÑ‡∏î‡πâ 281/306 ‡∏Ñ‡∏ô (‡∏û‡∏•‡∏≤‡∏î‡πÅ‡∏Ñ‡πà 25 ‡∏Ñ‡∏ô!)
   - ‡πÅ‡∏ï‡πà Precision ‡∏ï‡πà‡∏≥ (0.2838) - ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î‡∏Ñ‡∏ô‡∏°‡∏≤‡∏Å
   - ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ 16.3M ‡∏ö‡∏≤‡∏ó (‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ Run #2 ‡∏ñ‡∏∂‡∏á 3.76M ‡∏ö‡∏≤‡∏ó!)

3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Synthetic Sampling ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á 3 ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏•‡πâ‡∏ß:**

   - SMOTE (Run #3): ROC-AUC = 0.8170, Recall = 0.6144
   - SMOTETomek (Run #5): ROC-AUC = 0.8121, Recall = 0.6046, **Precision ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (0.5153)**
   - ADASYN (Run #4): ROC-AUC = 0.8106, Recall = 0.6013

4. **Synthetic Sampling ‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á overfitting:**

   - Run #3: CV ROC-AUC = 0.91, Test = 0.82 (‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô 9%)
   - Run #4: CV ROC-AUC = 0.91, Test = 0.81 (‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô 10%)
   - Run #5: CV ROC-AUC = 0.91, Test = 0.81 (‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô 10%)

5. **Recall Comparison:**

   - Run #6 (Cost-Sensitive): Recall = **91.83%** ü•á (‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)
   - Run #2 (Class Weights): Recall = **68.95%** ü•à
   - Run #4 (ADASYN): Recall = 71.90%
   - Run #3 (SMOTE): Recall = 61.44%
   - Run #5 (SMOTETomek): Recall = 60.46%

6. **Cost-Sensitive Learning Findings:**

   - Cost Ratio 20.0 ‡πÉ‡∏´‡πâ Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (95.10%)
   - ‡∏¢‡∏¥‡πà‡∏á Cost Ratio ‡∏™‡∏π‡∏á ‚Üí Recall ‡πÄ‡∏û‡∏¥‡πà‡∏°, Precision ‡∏•‡∏î
   - ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏µ‡∏° Retention ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà

7. **‡πÅ‡∏¢‡∏Å preprocessing ‡∏ï‡∏≤‡∏° model** ‡∏ó‡∏≥‡πÉ‡∏´‡πâ XGBoost ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô 15% ‡πÉ‡∏ô ROC-AUC (Run #1 ‚Üí Run #2)

8. **Recall ‡πÄ‡∏õ‡πá‡∏ô metric ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** - ‡πÅ‡∏•‡∏∞ Run #6 ‡πÉ‡∏´‡πâ Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (91.83%)

---

## ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á

**‚úÖ Completed:**

- [x] **Separate Preprocessing for LR vs XGBoost** - ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! XGBoost ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô 15% ‡πÉ‡∏ô ROC-AUC
- [x] **Achieve ROC-AUC > 0.80** - ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏î‡πâ 0.8379
- [x] **Test SMOTE Resampling** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á performance (Recall ‡∏•‡∏î‡∏•‡∏á 7.5 pp.)
- [x] **Test ADASYN Resampling** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß! ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ SMOTE (Recall ‡∏•‡∏î‡∏•‡∏á 8.8 pp.)
- [x] **Test SMOTETomek (Hybrid)** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß! Precision ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà Recall ‡∏¢‡∏±‡∏á‡∏ï‡πà‡∏≥ (‡∏•‡∏î‡∏•‡∏á 8.5 pp.)
- [x] **Test Cost-Sensitive Learning** - ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (91.83%) ‡πÅ‡∏ï‡πà Precision ‡∏ï‡πà‡∏≥ (28.38%)

**üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:**

| Method                | ROC-AUC    | Recall     | Precision  | F1         | Ranking     |
| --------------------- | ---------- | ---------- | ---------- | ---------- | ----------- |
| **Class Weights**     | **0.8379** | 0.6895     | **0.4862** | **0.5703** | ü•á **Best** |
| Cost-Sensitive (10.0) | 0.8220     | **0.9183** | 0.2838     | 0.4336     | ü•à 2nd      |
| SMOTE                 | 0.8170     | 0.6144     | 0.5123     | 0.5587     | ü•â 3rd      |
| SMOTETomek            | 0.8121     | 0.6046     | 0.5153     | 0.5564     | 4th         |
| ADASYN                | 0.8106     | 0.6013     | 0.5041     | 0.5484     | 5th         |

**üí° ‡∏Ç‡πâ‡∏≠‡∏™‡∏£‡∏∏‡∏õ:**

- ‚úÖ **Class Weights (Run #2) ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°** - Balance, ROI ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- ‚úÖ **Cost-Sensitive (Run #6) ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Recall** - ‡∏à‡∏±‡∏ö Churn ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- ‚ùå **Synthetic Sampling ‡∏ó‡∏∏‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á overfitting ‡πÅ‡∏•‡∏∞‡∏•‡∏î Recall**
- ‚ùå **Hybrid approach (SMOTETomek) ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤**
- ‚úÖ **‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ Run #2 ‡πÄ‡∏õ‡πá‡∏ô default model, Run #6 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö campaign ‡∏û‡∏¥‡πÄ‡∏®‡∏©**

---

## üéØ Next Immediate Steps

**‚úÖ All Major Experiments - COMPLETED:**

- [x] **Run #2: Class Weights** - ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
- [x] **Run #3: SMOTE** - ‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÄ‡∏ó‡πà‡∏≤ Class Weights
- [x] **Run #4: ADASYN** - ‡πÅ‡∏¢‡πà‡∏Å‡∏ß‡πà‡∏≤ SMOTE
- [x] **Run #5: SMOTETomek** - Precision ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÅ‡∏ï‡πà Recall ‡∏ï‡πà‡∏≥
- [x] **Run #6: Cost-Sensitive Learning** - Recall ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (91.83%)!

**üìä ‡∏™‡∏£‡∏∏‡∏õ:**

- **Run #2 (Class Weights)** = Best Overall (F1, ROC-AUC, ROI)
- **Run #6 (Cost-Sensitive)** = Best Recall (91.83%)

---

**üîÑ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):**

1. **Threshold Tuning (Run #2)** - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô ‚≠ê

   - ‡∏õ‡∏£‡∏±‡∏ö threshold ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Recall ‡πÉ‡∏´‡πâ‡∏ñ‡∏∂‡∏á 70%+
   - ‡∏´‡∏£‡∏∑‡∏≠ balance ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Precision & Recall
   - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á retrain model!

2. **Hyperparameter Tuning (Run #2)**

   - Fine-tune XGBoost parameters
   - ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏° ROC-AUC ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å 1-2%

3. **Ensemble Model**

   - ‡∏£‡∏ß‡∏° Run #2 (Baseline) + Run #6 (Cost-Sensitive)
   - Best of both worlds!

4. **Deploy Model**
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á API ‡∏´‡∏£‡∏∑‡∏≠ web app
   - ‡πÉ‡∏ä‡πâ Run #2 ‡πÄ‡∏õ‡πá‡∏ô default model
   - ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Run #6 (Cost Ratio 20.0) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö campaign ‡∏û‡∏¥‡πÄ‡∏®‡∏©

---

**‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•):**

- ‚ùå **SMOTEENN** - ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ SMOTETomek
- ‚ùå **Focal Loss** - ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤
- ‚ùå **Synthetic Sampling ‡∏≠‡∏∑‡πà‡∏ô‡πÜ** - ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö dataset ‡∏ô‡∏µ‡πâ (imbalance ratio 4:1)
